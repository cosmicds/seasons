(()=>{"use strict";var e={2343:(e,t,n)=>{var o=n(3751),a=n(3637),l=n(1635),r=n(641),i=n(33),s=n(953),u=n(1828),c=n(5615),d=n(5249),v=n(2612),h=n.n(v),f=n(9410),g=n(7856),m=n(4979),p=n(6883),_=n(7506);function w(e){var t=(0,r.EW)(function(){return h()(e.value.latitudeDeg,e.value.longitudeDeg)}),n=(0,r.EW)(function(){return(0,d.Zn)(t.value)}),o=(0,r.EW)(function(){return(0,d.qD)(new Date,t.value,"zzz")}),a=Intl.DateTimeFormat().resolvedOptions().timeZone,l=60*(new Date).getTimezoneOffset()*1e3;return console.log("Browser timezone:",a),console.log("Browser timezone offset:",l),console.log("Selected timezone:",t.value),console.log("Selected timezone offset:",n.value),{selectedTimezone:t,shortTimezone:o,selectedTimezoneOffset:n,browserTimezone:a,browserTimezoneOffset:l}}function b(e,t,n){t=Math.PI-t,t<0&&(t+=2*Math.PI);var o=Math.atan2(Math.sin(t),Math.cos(t)*Math.sin(n)+Math.tan(e)*Math.cos(n));o<0&&(o+=2*Math.PI);var a=Math.asin(Math.sin(n)*Math.sin(e)-Math.cos(n)*Math.cos(e)*Math.cos(t));return{ra:o,dec:a}}function y(e){var t=e.getUTCFullYear(),n=e.getUTCMonth()+1,o=e.getUTCDate(),a=e.getUTCHours(),l=e.getUTCMinutes(),r=e.getUTCSeconds()+e.getUTCMilliseconds()/1e3;1!=n&&2!=n||(t-=1,n+=12);var i=Math.floor(t/100),s=2-i+Math.floor(i/4),u=Math.floor(365.25*t),c=Math.floor(30.6001*(n+1)),d=s+u+c+1720994.5+o+(a+l/60+r/3600)/24;return d}function C(e,t){var n=t*a.R2D,o=y(e)-2451545,l=o/36525,r=280.46061837+360.98564736629*o+387933e-9*l*l-l*l*l/3871e4+n;if(r>0)while(r>360)r-=360;else while(r<0)r+=360;return r}function k(e,t,n,o,l){var r=C(l,o),i=b(e,t,n),s=i.ra*a.R2D,u=r+s;return u<0&&(u+=360),u>360&&(u-=360),{raRad:a.D2R*u,decRad:i.dec}}function x(e,t,n,o,l){var r=C(l,o)-a.R2D*e;r<0&&(r+=360);var i=a.D2R*r,s=t,u=n,c=Math.sin(s)*Math.sin(u)+Math.cos(s)*Math.cos(u)*Math.cos(i),d=Math.asin(c),v=(Math.sin(s)-Math.sin(d)*Math.sin(u))/(Math.cos(d)*Math.cos(u)),h=Math.acos(v);return h+=80*Math.PI%(2*Math.PI),Math.sin(i)>0&&(h=2*Math.PI-h),{altRad:d,azRad:h}}function R(e){var t=-6*a.D2R,n=3*t;return Math.min(Math.max((1+Math.atan(Math.PI*e/-n))/2,0),1)}var L=864e5;function S(e){return e%L/L}var T=n(9279),D=new m.Place;D.set_names(["Sun"]),D.set_classification(T.Jq.solarSystem),D.set_target(T.Pj.sun),D.set_zoomLevel(20);var W=function(e,t){var n,o=6,r=2*Math.PI/o,i=new m.TriangleList,s=m.Color.load(t.color);s.a=Math.round(null!==(n=255*t.opacity)&&void 0!==n?n:1);for(var u=m.Settings.get_active(),c=u.get_locationLng()*a.D2R,d=u.get_locationLat()*a.D2R,v=m.SpaceTimeController.get_now(),h=0;h<o;h++){var f=[[0,h*r],[-Math.PI/2,h*r],[0,(h+1)*r]];f=f.map(function(e){var t=k.apply(void 0,(0,l.fX)((0,l.fX)([],(0,l.zs)(e),!1),[d,c,v],!1));return m.Coordinates.raDecTo3d(a.R2D*t.raRad/15,a.R2D*t.decRad)}),i.addSubdividedTriangles.apply(i,(0,l.fX)((0,l.fX)([],(0,l.zs)(f),!1),[s,new m.Dates(0,1),2],!1))}i.draw(e,1,!0)},M=function(e,t){var n=6,o=2*Math.PI/n,r=new m.TriangleList,i=m.Color.load(t.color),s=m.Settings.get_active(),u=s.get_locationLng()*a.D2R,c=s.get_locationLat()*a.D2R,d=x(15*D.get_RA()*a.D2R,D.get_dec()*a.D2R,c,u,m.SpaceTimeController.get_now()),v=R(d.altRad);i.a=Math.round(255*v),m.WWTControl.scriptInterface.setForegroundOpacity(100*(1-v));for(var h=m.SpaceTimeController.get_now(),f=0;f<n;f++){var g=[[0,f*o],[0,(f+1)*o],[Math.PI/2,f*o]];g=g.map(function(e){var t=k.apply(void 0,(0,l.fX)((0,l.fX)([],(0,l.zs)(e),!1),[c,u,h],!1));return m.Coordinates.raDecTo3d(a.R2D*t.raRad/15,a.R2D*t.decRad)}),r.addSubdividedTriangles.apply(r,(0,l.fX)((0,l.fX)([],(0,l.zs)(g),!1),[i,new m.Dates(0,1),2],!1))}r.draw(e,1,!0)};function z(e){var t=T.Pj[e];return t=t.charAt(0).toUpperCase()+t.slice(1),t}function F(e){var t=new m.Place,n=z(e);return t.set_names([n]),t.set_classification(T.Jq.solarSystem),t.set_target(e),t}var P=90,E=.1,A=.9,U=.1,V=Math.log(A/(1-A)),O=Math.log(U/(1-U)),I=(V-O)/(P-E),G=V-I*P,B=[115,-60,85,100,100,120,90,90,100,-70],j=[85,-275,0,0,0,0,0,0,0,0];function K(e,t,n,o){var a,l,r=e.viewCamera.zoom,i=r/6,s=Math.exp(G+I*i),u=2e-4*(1.4*s/(1+s)+1),c=m.SpaceTimeController.get_location().get_lat()<0?-1:1,d=m.Vector3d.create(0,c,0),v=F(t),h=m.Coordinates.raDecTo3d(v.get_RA(),v.get_dec());return h.y-=null!==(a=B[t]*u)&&void 0!==a?a:.035,h.x-=null!==(l=j[t]*u)&&void 0!==l?l:0,new m.Text3d(h,d,n,o,u)}function q(e){var t=37.5,n=new m.Text3dBatch(t),o=Object.keys(T.Pj).filter(function(e){return!isNaN(Number(e))});return o.forEach(function(o){if(Number(o)<=T.Pj.moon){var a=z(o),l=K(e,o,a,t);n.add(l)}}),n}var X=null;function J(){X=null}function Y(){if(null==X){var e=130;X=new m.Text3dBatch(e);var t=m.SpaceTimeController.get_location().get_lat()<0?-1:1,n=.03*t,o=m.Vector3d.create(0,t,0),a=[[[0,n,-1],"N"],[[-t,n,0],"E"],[[0,n,1],"S"],[[t,n,0],"W"]];a.forEach(function(e){var t=(0,l.zs)(e,2),n=t[0],a=t[1];X.add(new m.Text3d(m.Vector3d.create.apply(m.Vector3d,(0,l.fX)([],(0,l.zs)(n),!1)),o,a,75,18e-5))}),Z(X)}}function H(e,t,n){var o=new m.Coordinates(0,0),a=m.Coordinates.horizonToEquitorial(o,m.SpaceTimeController.get_location(),m.SpaceTimeController.get_now()),l=-(a.get_RA()-6)/24*(2*Math.PI),r=-a.get_dec()/360*(2*Math.PI),i=(m.Coordinates.formatDMS(a.get_RA()),m.Matrix3d._rotationY(-l-Math.PI));i._multiply(m.Matrix3d._rotationX(r)),i.invert(),Y();var s=e.get_world().clone(),u=e.get_worldBase().clone();return e.set_worldBase(m.Matrix3d.multiplyMatrix(i,e.get_world())),e.set_world(e.get_worldBase().clone()),e.makeFrustum(),X.viewTransform=m.Matrix3d.invertMatrix(i),X.draw(e,t,n),e.set_worldBase(u),e.set_world(s),e.makeFrustum(),!0}var N=function(){var e=new m.GlyphCache,t=window.location.origin+window.location.pathname;t.endsWith("/")&&(t=t.slice(0,t.length-1));var n="".concat(t,"/glyphs2.png"),o="".concat(t,"/glyphs2.xml");return e._texture=m.Texture.fromUrl(n),e._webFile=new m.WebFile(o),e._webFile.onStateChange=m.GlyphCache.prototype._glyphXmlReady.bind(e),e._webFile.send(),e}();function Z(e){e._glyphCache=N,e.prepareBatch()}function Q(e,t){null==m.Planets._planetTextures&&m.Planets._loadPlanetTextures();var n=m.Planets._geocentricElongation(m.Planets._planetLocations[9].RA,m.Planets._planetLocations[9].dec,m.Planets._planetLocations[0].RA,m.Planets._planetLocations[0].dec),o=m.Planets._planetLocations[9].RA-m.Planets._planetLocations[0].RA;m.Planets._planetLocations[9].RA<m.Planets._planetLocations[0].RA&&(o+=24);m.Planets._phaseAngle(n,m.Planets._planetLocations[9].distance,m.Planets._planetLocations[0].distance);var a=15*Math.abs(m.Planets._planetLocations[9].RA-m.Planets._planetLocations[0].RA)*Math.cos(m.Coordinates.degreesToRadians(m.Planets._planetLocations[0].dec)),l=Math.abs(m.Planets._planetLocations[9].dec-m.Planets._planetLocations[0].dec),r=Math.sqrt(a*a+l*l);m.Planets._planetScales[9];return m.Planets._drawPlanet(e,0),!0}function $(e,t,n){var o,a,r;void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),null!=this.renderContext.get_backgroundImageset()?this.renderType=this.renderContext.get_backgroundImageset().get_dataSetType():this.renderType=2;var i=!1;if(this.canvas.width!==this.canvas.parentNode.clientWidth&&(this.canvas.width=this.canvas.parentNode.clientWidth,i=!0),this.canvas.height!==this.canvas.parentNode.clientHeight&&(this.canvas.height=this.canvas.parentNode.clientHeight,i=!0),i&&null!=this.explorer&&this.explorer.refresh(),!(this.canvas.width<1||this.canvas.height<1)){if(i&&(this._crossHairs=null),m.Tile.lastDeepestLevel=m.Tile.deepestLevel,m.RenderTriangle.width=this.renderContext.width=this.canvas.width,m.RenderTriangle.height=this.renderContext.height=this.canvas.height,m.Tile.tilesInView=0,m.Tile.tilesTouched=0,m.Tile.deepestLevel=0,m.SpaceTimeController.set_metaNow(new Date),null!=this.get__mover()){if(m.SpaceTimeController.set_now(this.get__mover().get_currentDateTime()),m.Planets.updatePlanetLocations(this.get_solarSystemMode()),null!=this.get__mover()){var s=this.get__mover().get_currentPosition();if(this.renderContext.targetCamera=s.copy(),this.renderContext.viewCamera=s.copy(),this.renderContext.space&&m.Settings.get_active().get_galacticMode()){var u=m.Coordinates.j2000toGalactic(15*s.get_RA(),s.get_dec());this.renderContext.targetAlt=this.renderContext.alt=u[1],this.renderContext.targetAz=this.renderContext.az=u[0]}else if(this.renderContext.space&&m.Settings.get_active().get_localHorizonMode()){var c=m.Coordinates.equitorialToHorizon(m.Coordinates.fromRaDec(s.get_RA(),s.get_dec()),m.SpaceTimeController.get_location(),m.SpaceTimeController.get_now());this.renderContext.targetAlt=this.renderContext.alt=c.get_alt(),this.renderContext.targetAz=this.renderContext.az=c.get_az()}this.get__mover().get_complete()&&(m.WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(),this.get__mover().get_currentPosition().get_dec(),m.WWTControl.singleton.renderContext.viewCamera.zoom),this.set__mover(null),this._notifyMoveComplete())}}else m.SpaceTimeController.updateClock(),m.Planets.updatePlanetLocations(this.get_solarSystemMode()),this._updateViewParameters();if(this.renderContext.clear(),this.renderContext.setupMatricesSpace3d(this.renderContext.width,this.renderContext.height),this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(),100),null!=this.renderContext.get_foregroundImageset())if(this.renderContext.get_foregroundImageset().get_dataSetType()!==this.renderContext.get_backgroundImageset().get_dataSetType())this.renderContext.set_foregroundImageset(null);else if(100!==this.renderContext.viewCamera.opacity&&null==this.renderContext.gl){this._foregroundCanvas.width===this.renderContext.width&&this._foregroundCanvas.height===this.renderContext.height||(this._foregroundCanvas.width=this.renderContext.width,this._foregroundCanvas.height=this.renderContext.height);var d=this.renderContext.device;this._fgDevice.clearRect(0,0,this.renderContext.width,this.renderContext.height),this.renderContext.device=this._fgDevice,this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(),100),this.renderContext.device=d,this.renderContext.device.save(),this.renderContext.device.globalAlpha=this.renderContext.viewCamera.opacity/100,this.renderContext.device.drawImage(this._foregroundCanvas,0,0),this.renderContext.device.restore()}else this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(),this.renderContext.viewCamera.opacity);if(null!=this.uiController)this.uiController.render(this.renderContext);else{t&&M(this.renderContext,{opacity:.95,color:"#4190ED"}),m.Annotation.prepBatch(this.renderContext);try{for(var v=(0,l.Ju)(this._annotations),h=v.next();!h.done;h=v.next()){var f=h.value;f.draw(this.renderContext)}}catch(x){o={error:x}}finally{try{h&&!h.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}if(m.Annotation.drawBatch(this.renderContext),Date.now()-this._lastMouseMove>400){var g=this.getCoordinatesForScreenPoint(this._hoverTextPoint.x,this._hoverTextPoint.y);this._annotationHover(g.x,g.y,this._hoverTextPoint.x,this._hoverTextPoint.y),this._lastMouseMove=new Date(2100,1,1)}this._hoverText&&this._drawHoverText(this.renderContext)}for(var p in this.renderContext.get_catalogHipsImagesets())p.get_hipsProperties().get_catalogSpreadSheetLayer().enabled&&p.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion===p.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()&&this.renderContext.drawImageSet(p,100);this.constellation=m.Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(),this.renderContext.viewCamera.get_dec()),this._drawSkyOverlays(),m.Planets.drawPlanets(this.renderContext,1),n&&(this._planetTextOverlays=q(this.renderContext),Z(this._planetTextOverlays),this._planetTextOverlays.viewTransform=null===(r=m.Grids._altAzTextBatch)||void 0===r?void 0:r.viewTransform,this._planetTextOverlays.draw(this.renderContext,1,m.Color.fromArgb(255,255,255,255))),e&&W(this.renderContext,{opacity:.9,color:"#01362C"});var _=this.renderContext.get_world(),w=this.renderContext.get_view(),b=this.renderContext.get_projection();m.Settings.get_current().get_showCrosshairs()&&this._drawCrosshairs(this.renderContext);var y=!m.TileCache.get_queueCount();this.renderContext.setupMatricesOverlays(),this._fadeFrame(),this._frameCount++,m.TileCache.decimateQueue(),m.TileCache.processQueue(this.renderContext),m.Tile.currentRenderGeneration++,m.TourPlayer.get_playing()||this.set_crossFadeFrame(!1),this.renderContext.set_world(_),this.renderContext.set_view(w),this.renderContext.set_projection(b);var C=Date.now(),k=C-this._lastUpdate;k>1e3&&(this._lastUpdate=C,this._frameCount=0,m.RenderTriangle.trianglesRendered=0,m.RenderTriangle.trianglesCulled=0),this.capturingVideo&&(null==this.dumpFrameParams||this.dumpFrameParams.waitDownload&&!y||(this.captureFrameForVideo(this._videoBlobReady,this.dumpFrameParams.width,this.dumpFrameParams.height,this.dumpFrameParams.format),m.SpaceTimeController.nextFrame()),m.SpaceTimeController.get_doneDumping()&&(m.SpaceTimeController.frameDumping=!1,m.SpaceTimeController.cancelFrameDump=!1,this.capturingVideo=!1))}}function ee(e,t,n,o){void 0===o&&(o=!0);var a=m.SpaceTimeController.get_now().getUTCFullYear();if(null==m.Grids._eclipticOverviewLineList||a!==m.Grids._eclipticYear){null!=m.Grids._eclipticOverviewLineList&&(m.Grids._eclipticOverviewLineList.clear(),m.Grids._eclipticOverviewLineList=null),m.Grids._eclipticYear=a;var l=m.Coordinates.meanObliquityOfEcliptic(m.SpaceTimeController.get_jNow()),r=m.Matrix3d._rotationX(-l/360*(2*Math.PI)),i=365.25;m.DT.isLeap(a,!0)?(m.Grids._monthDays[1]=29,i=366):(m.Grids._monthDays[1]=28,i=365);m.Grids._eclipticCount=i;var s=m.SpaceTimeController.utcToJulian(new Date(a,0,1,12,0,0)),u=0,c=0,d=0;m.Grids._eclipticOverviewLineList=new m.SimpleLineList,m.Grids._eclipticOverviewLineList.set_depthBuffered(!1);for(var v=0;v<12;v++){for(var h=m.Grids._monthDays[v],f=0;f<h;f++){var g=m.Planets.getPlanetLocationJD("Sun",s),p=m.CT.eq2Ec(g.RA,g.dec,l);u=p.x,0==f&&0==v&&(d=u);var _=.005;f||(_=.01);var w=u;m.Grids._eclipticOverviewLineList.addLine(m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(w*Math.PI*2/360),_,Math.sin(w*Math.PI*2/360)),r),m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(w*Math.PI*2/360),-_,Math.sin(w*Math.PI*2/360)),r)),!o||0==f&&0==v||m.Grids._eclipticOverviewLineList.addLine(m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(w*Math.PI*2/360),0,Math.sin(w*Math.PI*2/360)),r),m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(c*Math.PI*2/360),0,Math.sin(c*Math.PI*2/360)),r)),s+=1,c=u}u+=m.Grids._monthDays[v]}o&&m.Grids._eclipticOverviewLineList.addLine(m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(d*Math.PI*2/360),0,Math.sin(d*Math.PI*2/360)),r),m.Vector3d._transformCoordinate(m.Vector3d.create(Math.cos(w*Math.PI*2/360),0,Math.sin(w*Math.PI*2/360)),r))}return m.Grids._eclipticOverviewLineList.drawLines(e,t,n),!0}function te(){m.Settings.get_active().get_showConstellationPictures()&&!this.freestandingMode&&m.Constellations.drawArtwork(this.renderContext),m.Settings.get_active().get_showConstellationFigures()&&(null==m.WWTControl.constellationsFigures&&(m.WWTControl.constellationsFigures=m.Constellations.create("Constellations",m.URLHelpers.singleton.engineAssetUrl("figures.txt"),!1,!1,!1)),m.WWTControl.constellationsFigures.draw(this.renderContext,!1,"UMA",!1)),m.Settings.get_active().get_showEclipticGrid()&&(m.Grids.drawEclipticGrid(this.renderContext,1,m.Settings.get_active().get_eclipticGridColor()),m.Settings.get_active().get_showEclipticGridText()&&m.Grids.drawEclipticGridText(this.renderContext,1,m.Settings.get_active().get_eclipticGridColor())),m.Settings.get_active().get_showGalacticGrid()&&(m.Grids.drawGalacticGrid(this.renderContext,1,m.Settings.get_active().get_galacticGridColor()),m.Settings.get_active().get_showGalacticGridText()&&m.Grids.drawGalacticGridText(this.renderContext,1,m.Settings.get_active().get_galacticGridColor())),m.Settings.get_active().get_showAltAzGrid()&&m.Grids.drawAltAzGrid(this.renderContext,1,m.Settings.get_active().get_altAzGridColor()),m.Settings.get_active().get_showAltAzGridText()&&m.Grids.drawAltAzGridText(this.renderContext,1,m.Settings.get_active().get_altAzGridColor()),H(this.renderContext,1,m.Settings.get_active().get_altAzGridColor()),m.Settings.get_active().get_showPrecessionChart()&&m.Grids.drawPrecessionChart(this.renderContext,1,m.Settings.get_active().get_precessionChartColor()),m.Settings.get_active().get_showEcliptic()&&(m.Grids.drawEcliptic(this.renderContext,1,m.Settings.get_active().get_eclipticColor()),m.Settings.get_active().get_showEclipticOverviewText()&&m.Grids.drawEclipticText(this.renderContext,1,m.Settings.get_active().get_eclipticColor())),m.Settings.get_active().get_showGrid()&&(m.Grids.drawEquitorialGrid(this.renderContext,1,m.Settings.get_active().get_equatorialGridColor()),m.Settings.get_active().get_showEquatorialGridText()&&m.Grids.drawEquitorialGridText(this.renderContext,1,m.Settings.get_active().get_equatorialGridColor())),m.Settings.get_active().get_showConstellationBoundries()&&(null==m.WWTControl.constellationsBoundries&&(m.WWTControl.constellationsBoundries=m.Constellations.create("Constellations",m.URLHelpers.singleton.engineAssetUrl("constellations.txt"),!0,!1,!1)),m.WWTControl.constellationsBoundries.draw(this.renderContext,m.Settings.get_active().get_showConstellationSelection(),this.constellation,!1)),m.Settings.get_active().get_showConstellationLabels()&&m.Constellations.drawConstellationNames(this.renderContext,1,m.Colors.get_yellow())}var ne=86400,oe=1e3*ne,ae=40,le=1e3*ae,re=180/Math.PI*3600,ie=re;function se(e){var t,n=this;e.store.waitForReady().then(function(){return(0,l.sH)(n,void 0,void 0,function(){return(0,l.YH)(this,function(t){return e.onStart&&e.onStart(),[2]})})});var o=(0,s.i9)(e.selectedTime)?e.selectedTime.value:e.selectedTime;o="number"===typeof o?o:o.getTime();var i=(0,s.KR)(o),u=(0,s.KR)(e.selectedTimezoneOffset),c=(0,r.EW)(function(){return{latitudeRad:e.location.value.latitudeDeg*a.D2R,longitudeRad:e.location.value.longitudeDeg*a.D2R}}),d=new m.Place;d.set_names(["Sun"]),d.set_classification(T.Jq.solarSystem),d.set_target(T.Pj.sun),d.set_zoomLevel(null!==(t=e.zoomLevel)&&void 0!==t?t:20);var v=(0,r.EW)(function(){return{raRad:15*d.get_RA()*a.D2R,decRad:d.get_dec()*a.D2R}});function h(e){var t=y(e),n=m.AstroCalc.getPlanet(t,0,c.value.latitudeRad,c.value.longitudeRad,0),o=x(15*n.RA*a.D2R,n.dec*a.D2R,c.value.latitudeRad,c.value.longitudeRad,e);return(0,l.Cl)((0,l.Cl)({},o),{decRad:n.dec*a.D2R,raRad:15*n.RA*a.D2R})}function f(e,t,n,o,a){var l=(o-t)/(n-e),r=t-l*e;return l*a+r}function g(e,t,n){var o=h(new Date(e-t)).altRad,l=h(new Date(e+t)).altRad,r=f(o,e-t,l,e+t,n*a.D2R);return r}function p(e,t,n){void 0===n&&(n=0);var o=90*a.D2R-Math.abs(t-e)+n,l=-90*a.D2R+Math.abs(t+e)+n,r=l>0,i=o<0;return{upperCulmination:o,lowerCulmination:l,always:r?"up":i?"down":null}}function _(e,t,n){var o=!(!n||!n.useLimb)&&n.useLimb,l=!(!n||!n.useRefraction)&&n.useRefraction,r=.004645784/a.D2R,s=(o?r:0)+(l?.5667:0);e-=s;var d=null!==t&&void 0!==t?t:i.value,v=d-d%oe-u.value,f=v+oe-1,m=v,_=h(new Date(m)),w=_.altRad,b=_.decRad,y=p(b,c.value.latitudeRad,s*a.D2R),C=y.upperCulmination,k=y.lowerCulmination;console.log("Upper culmination: ".concat(C*ie," arcsec")),console.log("Lower culmination: ".concat(k*ie," arcsec"));var x=y.always;if("up"===x)return{rising:null,setting:null,always:x};if("down"===x)return{rising:null,setting:null,always:x};if(C*ie<2&&null===x)return console.error("Upper culmination is too close to the horizon = ".concat(C*ie," arcsec.")),{rising:null,setting:null,always:"down"};if(k*ie>-2&&null===x)return console.error("Lower culmination is too close to the horizon = ".concat(k*ie," arcsec.")),{rising:null,setting:null,always:"up"};function R(t){while(w<e*a.D2R&&t<f)t+=le,w=h(new Date(t)).altRad,C=Math.max(C,w),k=Math.min(k,w);var n=function(){return g(t,le,e)},o=t>=f?null:n();return{rising:o,time:t}}function L(t){var n=!0;while(w>e*a.D2R&&t<f)t+=le,w=h(new Date(t)).altRad,C=Math.max(C,w),k=Math.min(k,w),n&&t>=v+oe&&(console.error("Extending search to next day"),n=!1);var o=function(){return g(t,le,e)},l=t>=f?null:o();return{setting:l,time:t}}var S=h(new Date(m)).altRad<h(new Date(m+le/2)).altRad,T=null,D=null;if(S?(console.log("At local midnight, the sun is going up."),w>e*a.D2R&&console.error("However, the sun is already above the horizon at local midnight. This could be an edge case.")):(console.log("At local midnight, the sun is going down."),w<e*a.D2R?console.log("and the sun is below the horizon"):console.error("but the sun is above the horizon")),w>=e*a.D2R){console.error("Sun is above the horizon at local midnight. Searching for setting first.");var W=L(m);if(D=W.setting,null===D)return console.log("Error: could not find setting time when sun is going up first and above the horizon."),{rising:null,setting:null,always:"up"};console.log("Found setting time at ".concat(D?new Date(D).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC")),f=m+oe;var M=R(W.time);if(T=M.rising,null===T)return console.error("The sun set this day, but did not rise in the next 24 hours. Setting to always down."),{rising:null,setting:D,always:"down"};console.log("Found rising time at ".concat(T?new Date(T).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC")),f+=M.time+oe;var z=L(M.time);if(null===z.setting)return console.error("Error: could not find second setting time after rising. Must be entering polar day."),{rising:T,setting:null,always:"up"};D=z.setting,console.log("Found and using next setting time at ".concat(D?new Date(D).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC"))}else{console.error("Sun is going down and is below the horizon. Search for the next rise and extend to next day for setting.");M=R(m);if(T=M.rising,null===T)return console.error("The sun never rose in 24 hours. It is always down for this date."),{rising:null,setting:null,always:"down"};console.log("Found rising time at ".concat(T?new Date(T).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC")),f+=m+oe;W=L(M.time);if(D=W.setting,null===D)return console.error("The sun rose this day, but did not set in the next 24 hours. We are entering polar day."),{rising:T,setting:null,always:"up"};console.log("Found setting time at ".concat(D?new Date(D).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC"))}return null!==x||null!==T&&null!==D?(console.log("Rise and Set from the search"),console.log("   Rising time:",T?new Date(T).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC"),console.log("   Setting time:",D?new Date(D).toLocaleString(void 0,{timeZone:"UTC"}):"null"," UTC"),{rising:T,setting:D,always:x}):(console.error("Error calculating sun rise/set times","Rising: ".concat(T,", Setting: ").concat(D,"."),"Upper culmination: ".concat(C/a.D2R,", Lower culmination: ").concat(k/a.D2R,", \n          Desired alt: ").concat(e)),x=Math.abs(C)<Math.abs(k)?"down":"up",{rising:null,setting:null,always:x})}return{getTimeforSunAlt:_,getSunPositionAtTime:h,sunPlace:d,sunPosition:v}}var ue=n(6059),ce=n(8322),de=n(5494),ve=n(9311),he=n(2082),fe=n(1332),ge=n(4180),me=n(2877),pe=n(6682),_e=n(852),we=n(4492),be=n(4261),ye=n(1743),Ce=n(2939),ke=n(6861),xe=n(9543),Re=n(3638),Le=n(4915),Se=n(6175),Te=n(1926),De=n(8671),We=n(2651),Me={id:"main-content"},ze={class:"modal",id:"modal-loading"},Fe=["inert"],Pe={id:"left-buttons"},Ee={class:"location-display"},Ae={id:"location-title",class:"event-title"},Ue={key:0,class:"mb-1"},Ve={id:"geolocation-close"},Oe={id:"geolocation-controls"},Ie={class:"options"},Ge={id:"right-buttons"},Be={id:"date-title",class:"event-title"},je={class:"mb-1"},Ke={class:"date-buttons"},qe=["onClick"],Xe={class:"date-picker-section date-button"},Je=["color"],Ye=["inert"],He={id:"time-slider-chips"},Ne={class:"slider-container"},Ze={class:"thumb-label"},Qe={class:"time-chips"},$e={key:1,id:"small-play-pie-chart"},et=["inert"],tt=["inert"],nt={class:"video-wrapper"},ot={class:"ml-5 pt-3"},at={class:"pb-3"},lt=0,rt=500,it=70,st="rgb(120, 120, 120)",ut=500,ct=34,dt="seasons-optout",vt="seasons-aha-optout",ht="seasons-uuid";const ft=(0,r.pM)({__name:"SeasonsStory",setup:function(e){var t,n,v=this,b=(0,p.engineStore)(),y=(0,c.bP)(b).currentTime,C=m.Settings.get_active();(0,a.useWWTKeyboardControls)(b);var R=(0,a.supportsTouchscreen)(),L=(0,u._F)().smAndDown,T="false"!==(null===(t=new URLSearchParams(window.location.search).get("splash"))||void 0===t?void 0:t.toLowerCase()),W=(0,s.KR)(T),M=(0,r.EW)(function(){return T&&null!==Lt.value}),z=(0,s.KR)(null),F=(0,s.Kh)([]),P=(0,s.KR)(null),E=(0,s.KR)(!1),A=(0,s.KR)(!1),U=(0,s.KR)(!0),V=(0,s.KR)(!1),O=(0,r.EW)(function(){return U.value&&!V.value}),I=(0,s.KR)(!1),G=null,B=(0,s.KR)(0),j=0,K=0,q=null,X=null,Y=(0,s.KR)(!1),H=(0,s.KR)(!1),N=(0,s.KR)(!1),Z=(0,s.KR)(!0),ne=(0,s.KR)(40*a.D2R),oe=(0,s.KR)(-ne.value),ae=(0,r.EW)(function(){return(oe.value-ne.value)/(_t.value-pt.value)}),le=(0,s.KR)(D.get_distance()),re=new Date,ie=re.getUTCFullYear(),ft=(0,g.nP)(ie),gt=Object.entries(ft).filter(function(e){var t=(0,l.zs)(e,2),n=(t[0],t[1]);return n.date<re}).map(function(e){return e[0]});if(gt.length>0){var mt=(0,g.nP)(ie+1);gt.forEach(function(e){ft[e]=mt[e]})}var pt=(0,s.KR)(0),_t=(0,s.KR)(0),wt=rt-lt,bt=(0,r.EW)({get:function(){var e=(y.value.getTime()-pt.value)/(_t.value-pt.value);return lt+e*wt},set:function(e){var t=(e-lt)/wt,n=t*(_t.value-pt.value)+pt.value;b.setTime(new Date(n))}}),yt=(0,r.EW)(function(){return.5*(pt.value+_t.value)}),Ct=(0,r.EW)(function(){return yn(new Date(yt.value))}),kt=(0,r.EW)(function(){var e=bn(it,yt.value),t=e.rising,n=e.setting;return{start:t,end:n}}),xt=(0,r.EW)(function(){return kt.value.start&&kt.value.end?{start:yn(new Date(kt.value.start)),end:yn(new Date(kt.value.end))}:{start:null,end:null}}),Rt=(0,r.EW)(function(){var e=Object.entries(ft),t=e.sort(function(e,t){return e[1].date.getTime()-t[1].date.getTime()}),n=["today",{date:new Date}];return(0,l.fX)([n],(0,l.zs)(t),!1)}),Lt=(0,s.KR)(null),St=(0,s.KR)(null),Tt=(0,s.KR)(!1),Dt=function(e){return"today"===e?new Date:"custom"===e&&St.value?St.value:ft[e].date},Wt=function(e){e&&(Tt.value=!1,St.value=e,Lt.value="custom")};function Mt(e){var t=Sn.value;switch(e){case"today":return"Today";case"mar_equinox":return t?"Mar Equinox":"March Equinox";case"jun_solstice":return t?"Jun Solstice":"June Solstice";case"sep_equinox":return t?"Sep Equinox":"September Equinox";case"dec_solstice":return t?"Dec Solstice":"December Solstice";case"custom":return"Custom"}}function zt(e,t){if(t>=0)switch(e){case"mar_equinox":return"spring";case"jun_solstice":return"summer";case"sep_equinox":return"autumn";case"dec_solstice":return"winter"}else switch(e){case"mar_equinox":return"autumn";case"jun_solstice":return"winter";case"sep_equinox":return"spring";case"dec_solstice":return"summer"}return"spring"}function Ft(e,t){var n,o=e.getFullYear(),a=(0,g.nP)(o),l=a.mar_equinox.date,r=a.jun_solstice.date,i=a.sep_equinox.date,s=a.dec_solstice.date,u=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())};if(n=u(e)>=u(l)&&u(e)<u(r)?"spring":u(e)>=u(r)&&u(e)<u(i)?"summer":u(e)>=u(i)&&u(e)<u(s)?"autumn":"winter",t<0)switch(n){case"spring":return"autumn";case"summer":return"winter";case"autumn":return"spring";case"winter":return"summer"}return n}var Pt={spring:"#FFA0D7",summer:"#F7EB67",autumn:"#FEB770",winter:"#c1e2fc"},Et=(0,r.EW)(function(){var e=Lt.value;if(!e)return Pt.spring;var t=en.value.latitudeDeg;if("today"===e){var n=new Date,o=Ft(n,t);return Pt[o]}if("custom"===e&&St.value){var a=Ft(St.value,t);return Pt[a]}var l=zt(e,t);return Pt[l]}),At=(0,r.EW)(function(){return"today"===Lt.value?new Date:"custom"===Lt.value&&St.value?St.value:Lt.value?ft[Lt.value].date:new Date}),Ut=(0,r.EW)(function(){var e=Dt(Lt.value||"today");return jt(e)}),Vt=(0,r.EW)(function(){var e=null;return null!=Lt.value?e=Ut.value[2]:null!=St.value&&(e=jt(St.value)[2]),null!=e?e.sunAlwaysUp?"up":e.sunAlwaysDown?"down":null:null});function Ot(){var e=document.createElement("canvas"),t=e.getContext("webgl2");return t instanceof WebGL2RenderingContext}function It(){if("up"!==Vt.value){var e=yn(new Date(pt.value)),t=yn(new Date(_t.value)),n=m.WWTControl.singleton.renderContext,o=Math.abs(t.azRad-e.azRad)*a.R2D,l=47.8*Math.log(.9*n.width)-245,r=Math.min(Math.abs(Ct.value.azRad),Math.abs(Ct.value.azRad-2*Math.PI))<Math.abs(Ct.value.azRad-Math.PI);r&&(o=360-o),V.value=o<l}else V.value=!1}function Gt(e){return e.toLocaleString("en-US",{year:"numeric",month:Sn.value?"short":"long",day:"numeric"})}function Bt(e,t){if(t.sunAlwaysDown)return"0h 0m";if(t.sunAlwaysUp)return"24h 0m";var n=Math.round(e/6e4),o=Math.floor(n/60),a=n%60;return"".concat(o,"h ").concat(a,"m")}function jt(e){var t,n,o=e.getTime(),a=bn(0,o),l=a.rising,r=a.setting,i=a.always,s="up"===i,u="down"===i;if(null===l||null===r){console.log("Polar day or night detected");var c=o-o%864e5-_n.value;t=new Date(c),n=new Date(c+864e5-60)}else t=new Date(l),n=new Date(r);return[t,n,{sunAlwaysUp:s,sunAlwaysDown:u}]}function Kt(e,t){if(null!==Lt.value){var n=(0,l.zs)(jt(Dt(Lt.value)),3),o=n[0],a=n[1];n[2];pt.value=o.getTime(),_t.value=a.getTime();var r=(0,d.Zn)(h()(t.latitudeDeg,t.longitudeDeg)),i=r-_n.value,s=y.value.getTime()+i;s=Math.min(Math.max(pt.value,s),_t.value),gn.value=s,b.setTime(new Date(s))}}function qt(e){O.value&&In(ut),Y.value&&(y.value.getTime()>=_t.value&&b.clockRate>=0||y.value.getTime()<=pt.value&&b.clockRate<=0)?Y.value=!1:(Y.value=e,Yt.playPauseCount+=1,no.push(e?"wwt_play":"wwt_pause"))}function Xt(e){var t;if(void 0===e&&(e=null),null==e){var n=x(b.raRad,b.decRad,en.value.latitudeDeg*a.D2R,en.value.longitudeDeg*a.D2R,b.currentTime);t=n.altRad}else t=e*a.D2R;var o=k(t,Ct.value.azRad,en.value.latitudeDeg*a.D2R,en.value.longitudeDeg*a.D2R,b.currentTime);b.gotoRADecZoom({raRad:o.raRad,decRad:o.decRad,zoomDeg:b.zoomDeg,instant:!0})}function Jt(e){var t=Dt(e);"custom"!==e&&(St.value=t),Kt(en.value,en.value),In()}var Yt=(0,s.IG)({timeResetCount:0,reverseCount:0,playPauseCount:0,speedups:[],slowdowns:[],rateSelections:[],startTime:Date.now()}),Ht=new URLSearchParams(window.location.search),Nt=Ht.get("lat"),Zt=Ht.get("lon"),Qt=42.3581,$t=-71.1056;Nt&&Zt&&(Qt=parseFloat(Nt),$t=parseFloat(Zt));var en=(0,s.KR)({longitudeDeg:$t,latitudeDeg:Qt});function tn(){var e="".concat(en.value.latitudeDeg),t="".concat(en.value.longitudeDeg),n=new URLSearchParams(window.location.search);return n.set("lat",e),n.set("lon",t),"".concat(window.location.origin,"/?").concat(n.toString())}window.createQueryUrl=tn;var nn=(0,s.KR)({name:"",latitude:"",longitude:""}),on=(0,s.KR)(null),an={access_token:null!==(n="pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg")&&void 0!==n?n:""};function ln(e){console.log("Updating location from map:",e),en.value=e,ao.push([e.latitudeDeg,e.longitudeDeg]),no.push("location_update ".concat(e.latitudeDeg," ").concat(e.longitudeDeg))}function rn(e){var t=e>=0?"N":"S",n=Math.abs(e).toFixed(2);return"".concat(n,"° ").concat(t)}function sn(e){var t=e>=0?"E":"W",n=Math.abs(e).toFixed(2);return"".concat(n,"° ").concat(t)}function un(e,t){return(0,l.sH)(this,void 0,Promise,function(){var n,o,a,r,i;return(0,l.YH)(this,function(l){switch(l.label){case 0:n="",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,_.wQ)(e,t,an)];case 2:return n=l.sent(),[3,4];case 3:return o=l.sent(),console.error("Error getting location text:",o),[3,4];case 4:return a=cn(n)?"":"".concat(n),r=rn(t),i=sn(e),[2,{name:a,latitude:r,longitude:i}]}})})}function cn(e){return null!==e.charAt(0).match(/[0-9]|-/)}function dn(e){en.value={longitudeDeg:e.center[0],latitudeDeg:e.center[1]},un(e.center[0],e.center[1]).then(function(e){nn.value=e}).catch(function(e){on.value="An error occurred while searching"}),ao.push(e.center),no.push("location_update ".concat(e.center[0]," ").concat(e.center[1]))}function vn(e){dn(e)}function hn(){return(0,l.sH)(this,void 0,void 0,function(){var e;return(0,l.YH)(this,function(t){switch(t.label){case 0:return[4,un(en.value.longitudeDeg,en.value.latitudeDeg)];case 1:return e=t.sent(),nn.value=e,[2]}})})}function fn(e){return(0,_.vU)(e,an)}var gn=(0,s.KR)(Date.now()),mn=w(en),pn=mn.selectedTimezone,_n=mn.selectedTimezoneOffset,wn=se({store:b,location:en,selectedTime:y,selectedTimezoneOffset:_n,zoomLevel:360}),bn=wn.getTimeforSunAlt,yn=wn.getSunPositionAtTime,Cn=(0,r.EW)(function(){var e="h:mm aa (zzz)";return(0,d.qD)(y.value,pn.value,e)});function kn(){var e=m.WWTControl.singleton.canvas;function t(){var t=e.width/e.height;ne.value=.35*(60*t+13.5)*a.D2R,oe.value=-ne.value}var n=new ResizeObserver(function(n){var o,a;try{for(var r=(0,l.Ju)(n),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.target===e)return t(),void In()}}catch(u){o={error:u}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}});n.observe(e),t()}(0,r.sV)(function(){if(!Ot())return Vn(),N.value=!0,E.value=!0,A.value=!0,m.WWTControl.singleton.canvas.setAttribute("hidden","true"),void(m.WWTControl.singleton.renderOneFrame=function(){});hn(),b.waitForReady().then(function(){return(0,l.sH)(v,void 0,void 0,function(){return(0,l.YH)(this,function(e){return m.WWTControl.singleton.set_zoomMax(ut),a.skyBackgroundImagesets.forEach(function(e){return F.push(e)}),Gn(en.value),kn(),b.setClockSync(!1),b.setClockRate(0),b.applySetting(["showAltAzGrid",!0]),b.applySetting(["showAltAzGridText",!0]),b.applySetting(["altAzGridColor",m.Color.fromArgb(255,255,255,255)]),b.applySetting(["localHorizonMode",!0]),Bn(),Lt.value=Rt.value[0][0],A.value=!0,E.value=!0,so(),[2]})})}),co()});var xn=(0,r.EW)(function(){return E.value&&A.value}),Rn=(0,r.EW)(function(){return!xn.value}),Ln=(0,r.EW)(function(){return en.value.latitudeDeg>0}),Sn=(0,r.EW)(function(){return L.value}),Tn=(0,r.EW)(function(){return Sn.value&&R}),Dn=(0,r.EW)(function(){return Sn.value?"bottom":"left"}),Wn=(0,r.EW)(function(){return"bottom"===Dn.value?"".concat(ct,"%"):"100%"}),Mn=(0,r.EW)(function(){return"bottom"===Dn.value?"100%":"".concat(ct,"%")}),zn=(0,r.EW)(function(){return"bottom"===Dn.value?"calc(".concat(ct,"vh - 25px)"):"calc(100vh - 25px)"}),Fn=(0,r.EW)(function(){return"bottom"===Dn.value?"dialog-bottom-transition":"slide-x-transition"}),Pn=(0,r.EW)(function(){return{"--accent-color":Et.value,"--app-content-height":An.value&&"bottom"===Dn.value?"".concat(100-ct,"vh"):"100dvh","--app-content-width":An.value&&"left"===Dn.value?"".concat(100-ct,"vw"):"100dvw","--time-slider-width":"".concat(En.value.toFixed(2),"%"),"--time-slider-left":"".concat((100*Math.min(1,S(pt.value+_n.value))).toFixed(2),"%"),"--thumb-label-color":"down"===Vt.value?st:Et.value,"--info-sheet-width":Mn.value,"--info-sheet-height":Wn.value,"--info-text-height":zn.value}}),En=(0,r.EW)(function(){return 100*Math.min(1,S(_t.value-pt.value))}),An=(0,r.EW)({get:function(){return"text"===P.value},set:function(e){On("text")}}),Un=(0,r.EW)({get:function(){return"video"===P.value},set:function(e){if(On("video"),!e){var t=document.querySelector("#info-video");t.pause()}}});function Vn(){W.value=!1}function On(e){P.value===e?(P.value=null,(0,r.dY)(function(){(0,a.blurActiveElement)()})):P.value=e}function In(e,t){void 0===t&&(t=!0);var n=33;if(It(),V.value)setTimeout(function(){return Xt(n)},100);else{var o=b.currentTime,l=o.getTime(),r=en.value.latitudeDeg*a.D2R,i=en.value.longitudeDeg*a.D2R,s=yn(o),u=s.azRad,c=Ct.value.altRad*a.R2D,d=Ct.value.azRad*a.R2D,v=Math.min(Math.abs(d),Math.abs(d-360))<Math.abs(d-180);if(c>it){var h=(o.getTime()-pt.value)/(_t.value-pt.value),f=-2*Math.abs(.5-h)+1;n=c*f,n=Math.max(90-Math.abs(n-90),33);var g=kt.value,m=g.start,p=g.end,_=xt.value,w=_.start,y=_.end;if(m&&p&&w&&y&&l>m&&l<p){var C=w.azRad,x=y.azRad,R=(Math.PI-C)/(x-C),L=R>=0&&R<=1;v===L&&(x-=2*Math.PI);var S=(l-m)/(p-m);u=S*(x-C)+C}}var T=n*a.D2R;if(l>0&&t){var D=ae.value*(l-pt.value)+ne.value,W=v?-1:1;u+=D*W}var M=k(T,u,r,i,o);b.gotoRADecZoom({raRad:M.raRad,decRad:M.decRad,zoomDeg:null!==e&&void 0!==e?e:ut,instant:!0})}}function Gn(e){C.set_locationLat(e.latitudeDeg),C.set_locationLng(e.longitudeDeg)}function Bn(){m.Grids.drawEcliptic=ee,m.WWTControl.singleton.renderOneFrame();var e=$.bind(m.WWTControl.singleton),t=function(){e(Z.value,Z.value,!1)};m.WWTControl.singleton._drawSkyOverlays=te.bind(m.WWTControl.singleton),m.WWTControl.singleton.renderOneFrame=t;var n=m.Planets.updatePlanetLocations;function o(e){n(e);var t=Ut.value[2];m.Planets._planetScales[0]=m.Planets._planetScales[0]*(t.sunAlwaysDown?1:4)}m.Planets.updatePlanetLocations=o,m.Planets.drawPlanets=Q}function jn(e,t){0===e?(j+=t-(null!==q&&void 0!==q?q:t),q=null):(K+=t-(null!==X&&void 0!==X?X:t),X=null)}function Kn(e,t){0===e?q=t:X=t}(0,r.wB)(en,function(e,t){hn(),Gn(e),Kt(e,t),In()}),(0,r.wB)(y,function(e){Y.value&&(e.getTime()>=_t.value&&b.clockRate>=0||e.getTime()<=pt.value&&b.clockRate<=0)?Y.value=!1:(O.value&&In(b.zoomDeg),le.value=D.get_distance())}),(0,r.wB)(O,function(e){e&&In()}),(0,r.wB)(Lt,function(e){var t;if(e){Jt(e);var n="custom"===e?"event_custom ".concat(null===(t=St.value)||void 0===t?void 0:t.toISOString()):e;oo.push(n),no.push(n)}}),(0,r.wB)(St,function(e){var t;if(e&&"custom"===Lt.value){Jt("custom");var n="event_custom ".concat(null===(t=St.value)||void 0===t?void 0:t.toISOString());oo.push(n),no.push(n)}}),(0,r.wB)(Ln,function(e){return J()}),(0,r.wB)(M,function(e){e&&(0,r.dY)(function(){if(z.value){var e=z.value.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e&&e.focus()}})}),(0,r.wB)(An,function(e){var t=Date.now();e?Kn(B.value,t):jn(B.value,t)}),(0,r.wB)(B,function(e){if(An.value){var t=Date.now();Kn(e,t),jn(1-e,t)}});var qn="".concat(a.API_BASE_URL,"/seasons/data"),Xn=window.localStorage.getItem(dt),Jn=window.localStorage.getItem(vt),Yn=window.localStorage.getItem(ht),Hn="string"===typeof Xn?"true"===Xn:null,Nn=(0,s.KR)(Hn),Zn=(0,s.KR)("string"===typeof Jn?"true"===Jn:null),Qn=(0,s.KR)(!1),$n=null!==Yn,eo=null!==Yn&&void 0!==Yn?Yn:(0,f.A)();$n||window.localStorage.setItem(ht,eo);var to=0,no=[],oo=[],ao=[],lo=[],ro=Date.now();function io(e){to+=1,no.push("time_slider_used")}function so(){return(0,l.sH)(this,void 0,void 0,function(){var e,t,n,o;return(0,l.YH)(this,function(a){switch(a.label){case 0:return Nn.value||Zn.value?[2]:[4,fetch("".concat(qn,"/").concat(eo),{method:"GET",headers:{Authorization:null!==(o={VUE_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg",NODE_ENV:"production",BASE_URL:""}.VUE_APP_CDS_API_KEY)&&void 0!==o?o:""}})];case 1:return e=a.sent(),[4,e.json()];case 2:return t=a.sent(),n=200===e.status&&t.response.aha_moment_responses.length>0,n?[2]:(uo(),[2])}})})}function uo(e){void 0===e&&(e=24e4),G=setTimeout(function(){I.value=!0},e)}function co(){return(0,l.sH)(this,void 0,void 0,function(){var e,t,n,o,a,r;return(0,l.YH)(this,function(l){switch(l.label){case 0:return Nn.value?[2]:[4,fetch("".concat(qn,"/").concat(eo),{method:"GET",headers:{Authorization:null!==(o={VUE_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg",NODE_ENV:"production",BASE_URL:""}.VUE_APP_CDS_API_KEY)&&void 0!==o?o:""}})];case 1:return e=l.sent(),[4,e.json()];case 2:return t=l.sent(),n=200===e.status&&void 0!=(null===(a=t.response)||void 0===a?void 0:a.user_uuid),n?[2]:(fetch("".concat(qn),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:null!==(r={VUE_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg",NODE_ENV:"production",BASE_URL:""}.VUE_APP_CDS_API_KEY)&&void 0!==r?r:""},body:JSON.stringify({user_uuid:eo})}),[2])}})})}function vo(){j=0,K=0,to=0,no=[],oo=[],ao=[],lo=[],Object.assign(Yt,{timeResetCount:0,reverseCount:0,playPauseCount:0,speedups:[],slowdowns:[],rateSelections:[],startTime:gn.value});var e=Date.now();ro=e,q=An.value&&0==B.value?e:null,X=An.value&&1==B.value?e:null}function ho(){var e;if(!Nn.value){var t=Date.now(),n=An.value&&null!==q?t-q:j,o=An.value&&null!==X?t-X:K,a={events:no,time_slider_used_count:to,user_selected_dates:oo,user_selected_locations:ao,app_time_ms:t-ro,how_to_use_time_ms:n,what_to_explore_time_ms:o,wwt_time_reset_count:Yt.timeResetCount,wwt_reverse_count:Yt.reverseCount,wwt_play_pause_count:Yt.playPauseCount,wwt_speedups:Yt.speedups,wwt_slowdowns:Yt.slowdowns,wwt_rate_selections:Yt.rateSelections,wwt_start_stop_times:[Yt.startTime,gn.value],aha_moment_response:lo};fetch("".concat(qn,"/").concat(eo),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:null!==(e={VUE_APP_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg",NODE_ENV:"production",BASE_URL:""}.VUE_APP_CDS_API_KEY)&&void 0!==e?e:""},body:JSON.stringify(a),keepalive:!0}).then(function(){return vo()})}}return(0,r.wB)(W,function(e){e||null!==Nn.value||(Qn.value=!0)}),(0,r.wB)(Nn,function(e){null!==e&&window.localStorage.setItem(dt,String(e))}),(0,r.wB)(Zn,function(e){null!==e&&window.localStorage.setItem(vt,String(e))}),(0,r.wB)(I,function(e){e&&G&&clearTimeout(G)}),window.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?ho():vo()}),window.onbeforeunload=ho,function(e,t){var n=(0,r.g2)("WorldWideTelescope"),a=(0,r.g2)("splash-screen"),u=(0,r.g2)("font-awesome-icon"),c=(0,r.g2)("font-awesome-layers"),d=(0,r.g2)("geolocation-button"),v=(0,r.g2)("location-search"),h=(0,r.g2)("location-selector"),f=(0,r.g2)("icon-button"),g=(0,r.g2)("speed-control"),m=(0,r.g2)("daylight-pie-chart"),p=(0,r.g2)("credit-logos"),_=(0,r.g2)("funding-acknowledgement"),w=(0,r.g2)("question-dialog");return(0,r.uX)(),(0,r.Wv)(ue.E,{id:"app",style:(0,i.Tr)(Pn.value)},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Me,[(0,r.bF)(n),M.value?((0,r.uX)(),(0,r.Wv)(a,{key:0,ref_key:"splashScreenRef",ref:z,title:"Seasons",cssVars:Pn.value,onClose:Vn,onLocationSelected:vn},null,8,["cssVars"])):(0,r.Q3)("",!0),(0,r.bF)(o.eB,{name:"fade"},{default:(0,r.k6)(function(){return[(0,r.bo)((0,r.Lk)("div",ze,(0,l.fX)([],(0,l.zs)(t[45]||(t[45]=[(0,r.Lk)("div",{class:"container"},[(0,r.Lk)("div",{class:"spinner"}),(0,r.Lk)("p",null,"Loading …")],-1)])),!1),512),[[o.aG,Rn.value]])]}),_:1}),(0,r.Lk)("div",{id:"top-content",inert:W.value||void 0},[(0,r.Lk)("div",Pe,[(0,r.Lk)("div",Ee,[(0,r.Lk)("div",Ae,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=function(e){return H.value=!H.value}),class:"icon-location-button clickable-object"},[(0,r.bF)(c,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,{icon:"location-dot",color:"black"}),(0,r.bF)(u,{icon:"location-dot",color:Et.value,transform:"shrink-3"},null,8,["color"])]}),_:1})]),(0,r.Lk)("h4",{onClick:t[1]||(t[1]=function(e){return H.value=!H.value}),class:"clickable-object"},"View from")]),(0,r.Lk)("button",{id:"location-button",class:"event-button info-button",onClick:t[2]||(t[2]=function(e){return H.value=!0})},[nn.value.name?((0,r.uX)(),(0,r.CE)("div",Ue,[(0,r.Lk)("strong",null,(0,i.v_)(nn.value.name),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",null,"Lat: "+(0,i.v_)(nn.value.latitude),1),(0,r.Lk)("div",null,"Long: "+(0,i.v_)(nn.value.longitude),1)])]),(0,r.bF)(_e.p,{modelValue:H.value,"onUpdate:modelValue":t[7]||(t[7]=function(e){return H.value=e}),"max-width":"fit-content",transition:"slide-y-transition"},{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ve,[(0,r.bF)(u,{style:{cursor:"pointer","z-index":"1000"},icon:"xmark",size:"xl",onClick:t[3]||(t[3]=function(e){return H.value=!1}),onKeyup:t[4]||(t[4]=(0,o.jR)(function(e){return H.value=!1},["enter"])),tabindex:"0",color:"black"})]),(0,r.Lk)("div",Oe,[(0,r.bF)(d,{id:"location",size:"30px",density:"default",elevation:"5",color:Et.value,onGeolocation:t[5]||(t[5]=function(e){return en.value={longitudeDeg:e.longitude,latitudeDeg:e.latitude}})},null,8,["color"]),(0,r.bF)(v,{class:(0,i.C4)(["location-search"]),small:"","button-size":"xl","accent-color":Et.value,"search-provider":fn,onSetLocation:vn,onError:t[6]||(t[6]=function(e){return on.value=e})},null,8,["accent-color"])]),(0,r.bF)(h,{"model-value":en.value,"onUpdate:modelValue":ln},null,8,["model-value"])]}),_:1})]}),_:1},8,["modelValue"]),(0,r.Lk)("div",Ie,[(0,r.bF)(ge.a,{modelValue:U.value,"onUpdate:modelValue":t[8]||(t[8]=function(e){return U.value=e}),label:"Auto-track Sun",density:"compact","hide-details":"",onKeydown:[t[9]||(t[9]=(0,o.jR)((0,o.D$)(function(e){return O.value=!O.value},["prevent"]),["space"])),t[10]||(t[10]=(0,o.jR)((0,o.D$)(function(e){return O.value=!O.value},["prevent"]),["enter"]))]},null,8,["modelValue"])]),(0,r.Q3)("",!0),(0,r.bF)(f,{modelValue:An.value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return An.value=e}),icon:"fa-info",color:Et.value,"tooltip-text":An.value?"Hide Info":"Learn More","tooltip-location":"start",size:"sm"},null,8,["modelValue","color","tooltip-text"])]),(0,r.Lk)("div",Ge,[(0,r.Lk)("div",Be,[(0,r.Lk)("button",{onClick:t[12]||(t[12]=function(e){return Tt.value=!Tt.value}),class:"display-date-button mr-2 clickable-object"},[(0,r.bF)(c,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,{icon:"calendar-day",color:"black"}),(0,r.bF)(u,{icon:"calendar-day",color:Et.value,transform:"shrink-3"},null,8,["color"])]}),_:1})]),(0,r.Lk)("h4",{onClick:t[13]||(t[13]=function(e){return Tt.value=!Tt.value}),class:"clickable-object"},"Displayed Date")]),(0,r.Lk)("button",{id:"date-info",onClick:t[14]||(t[14]=function(e){return Tt.value=!Tt.value}),class:"event-button info-button"},[(0,r.Lk)("div",je,[(0,r.Lk)("strong",null,(0,i.v_)(Gt(At.value)),1)]),(0,r.Lk)("div",null,"Length of Day: "+(0,i.v_)(Bt(_t.value-pt.value,Ut.value[2])),1),(0,r.Lk)("div",null,"Distance to Sun: "+(0,i.v_)(le.value.toFixed(2))+" au",1)]),(0,r.Lk)("div",Ke,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Rt.value,function(e,t){var n=(0,l.zs)(e,1),o=n[0];return(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:(0,i.C4)([[o===Lt.value?"selected":""],"event-button"]),key:t,onClick:function(e){Lt.value=o}},[(0,r.Lk)("div",null,(0,i.v_)(Mt(o)),1)],10,qe)),[[We.n]])}),128)),(0,r.Lk)("div",Xe,[(0,r.Lk)("button",{onClick:t[15]||(t[15]=function(e){return Tt.value=!Tt.value}),color:Et.value,variant:"outlined",size:"small",class:"calendar-button event-button"},[(0,r.bF)(u,{icon:"calendar-day"}),t[46]||(t[46]=(0,r.eW)(" Choose Any Date ",-1))],8,Je),(0,r.bF)(_e.p,{modelValue:Tt.value,"onUpdate:modelValue":t[17]||(t[17]=function(e){return Tt.value=e}),"max-width":"fit-content"},{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,null,{default:(0,r.k6)(function(){return[(0,r.bF)(ve.r,{class:"text-h6 mb-0 mt-2"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[47]||(t[47]=[(0,r.eW)(" Select Date ",-1)])),!1)}),_:1}),(0,r.bF)(he.O,{class:"my-0 mx-2 pa-0"},{default:(0,r.k6)(function(){return[(0,r.bF)(pe.f,{"model-value":St.value,"onUpdate:modelValue":Wt,color:Et.value,"hide-header":""},null,8,["model-value","color"])]}),_:1}),(0,r.bF)(fe.S,{class:"my-0"},{default:(0,r.k6)(function(){return[(0,r.bF)(ce.D,{text:"",onClick:t[16]||(t[16]=function(e){return Tt.value=!1})},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[48]||(t[48]=[(0,r.eW)(" Cancel ",-1)])),!1)}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])])])])],8,Fe),(0,r.Lk)("div",{id:"bottom-content",inert:W.value||void 0},[(0,r.Lk)("div",He,[(0,r.Lk)("div",Ne,[Sn.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(xe.u,{key:0,min:lt,max:rt,value:null,disabled:"",class:"dummy-time-slider"})),(0,r.bF)(xe.u,{modelValue:bt.value,"onUpdate:modelValue":t[18]||(t[18]=function(e){return bt.value=e}),color:"down"===Vt.value?st:Et.value,min:lt,max:rt,"thumb-label":"always",class:(0,i.C4)(["time-slider",{"time-slider-large":!Sn.value}]),onEnd:io},{"thumb-label":(0,r.k6)(function(){return[(0,r.Lk)("div",Ze,(0,i.v_)(Cn.value),1)]}),_:1},8,["modelValue","color","class"])]),(0,r.Lk)("div",Qe,[(0,r.bF)(me.x,{onClick:t[19]||(t[19]=function(){bt.value=lt,In(ut),(0,s.R1)(no).push("sunrise")}),color:Et.value,variant:"elevated",size:"x-small",class:"time-chip"},{default:(0,r.k6)(function(){return[(0,r.eW)((0,i.v_)(Ut.value[2].sunAlwaysDown||Ut.value[2].sunAlwaysUp?"Midnight":"Sunrise"),1)]}),_:1},8,["color"]),(0,r.bF)(me.x,{onClick:t[20]||(t[20]=function(){bt.value=(lt+rt)/2,In(ut),(0,s.R1)(no).push("midday")}),color:Et.value,variant:"elevated",size:"x-small",class:"time-chip"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[49]||(t[49]=[(0,r.eW)(" Midday ",-1)])),!1)}),_:1},8,["color"]),(0,r.bF)(me.x,{onClick:t[21]||(t[21]=function(){bt.value=rt,In(ut),(0,s.R1)(no).push("sunset")}),color:Et.value,variant:"elevated",size:"x-small",class:"time-chip"},{default:(0,r.k6)(function(){return[(0,r.eW)((0,i.v_)(Ut.value[2].sunAlwaysDown||Ut.value[2].sunAlwaysUp?"Midnight":"Sunset"),1)]}),_:1},8,["color"])])]),Sn.value?((0,r.uX)(),(0,r.CE)("div",$e,[(0,r.bF)(f,{id:"play-pause",icon:Y.value?"pause":"play",onActivate:t[27]||(t[27]=function(){Y.value=!Y.value,(0,s.R1)(b).setClockRate(Y.value?1e3:0),(0,s.R1)(b).setClockSync(Y.value),qt(Y.value)}),"tooltip-text":Y.value?"Pause":"Play","tooltip-offset":"5px","show-tooltip":"",color:Et.value,"focus-color":Et.value},null,8,["icon","tooltip-text","color","focus-color"]),(0,r.bF)(m,{rise:pt.value,set:_t.value,always:Vt.value,size:"50px","timezone-offset":(0,s.R1)(_n)},null,8,["rise","set","always","timezone-offset"])])):((0,r.uX)(),(0,r.Wv)(g,{key:0,"model-value":Y.value,store:(0,s.R1)(b),color:Et.value,"default-rate":1e3,"max-speed":1e4,"rate-delta":5,"show-status":"","hide-more-controls":!0,onReset:t[22]||(t[22]=function(){Lt.value&&Jt(Lt.value),(0,s.R1)(Yt).timeResetCount+=1,(0,s.R1)(no).push("wwt_time_reset")}),"onUpdate:reverse":t[23]||(t[23]=function(e){(0,s.R1)(Yt).reverseCount+=1,(0,s.R1)(no).push("wwt_reverse")}),"onUpdate:modelValue":qt,onSlowDown:t[24]||(t[24]=function(e){(0,s.R1)(Yt).slowdowns.push(e),(0,s.R1)(no).push("wwt_slowdown ".concat(e))}),onSpeedUp:t[25]||(t[25]=function(e){(0,s.R1)(Yt).speedups.push(e),(0,s.R1)(no).push("wwt_speedup ".concat(e))}),onSetRate:t[26]||(t[26]=function(e){(0,s.R1)(Yt).rateSelections.push(e),(0,s.R1)(no).push("wwt_rate ".concat(e))})},null,8,["model-value","store","color"]))],8,Ye),(0,r.Lk)("div",{id:"change-flags",inert:W.value||void 0},[(0,r.bF)(f,{icon:"mdi-comment-quote",onActivate:t[28]||(t[28]=function(e){return I.value=!0}),color:Et.value,"focus-color":Et.value,"tooltip-text":"Share your thoughts","tooltip-location":"bottom","tooltip-offset":"5px","show-tooltip":!Tn.value,size:"1.2em"},null,8,["color","focus-color","show-tooltip"]),(0,r.bF)(f,{icon:"mdi-lock",onActivate:t[29]||(t[29]=function(){return Qn.value=!0}),color:Et.value,"focus-color":Et.value,"tooltip-text":"Change privacy settings","tooltip-location":"bottom","tooltip-offset":"5px","show-tooltip":!Tn.value,size:"1.2em"},null,8,["color","focus-color","show-tooltip"])],8,et),Sn.value?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",{key:1,id:"body-logos",inert:W.value||void 0},[(0,r.bF)(p,{"default-logos":["cosmicds","wwt","sciact","nasa"]})],8,tt)),(0,r.bF)(_e.p,{class:"error-dialog",style:(0,i.Tr)(Pn.value),modelValue:N.value,"onUpdate:modelValue":t[30]||(t[30]=function(e){return N.value=e}),persistent:""},{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,null,{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[50]||(t[50]=[(0,r.Lk)("div",{class:"error-message"},[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,"This app requires WebGL 2")]),(0,r.Lk)("p",{class:"mt-2"},' Check your browser\'s settings and enable WebGL 2 ("graphics acceleration" on some browsers). '),(0,r.Lk)("p",{class:"mt-2"},[(0,r.eW)(" You can check whether your browser supports WebGL 2 and get assistance "),(0,r.Lk)("a",{href:"https://get.webgl.org/webgl2/",target:"_blank",rel:"noopener noreferrer"},"here"),(0,r.eW)(". ")])],-1)])),!1)}),_:1})]}),_:1},8,["style","modelValue"]),(0,r.bF)(_e.p,{id:"video-container",modelValue:Un.value,"onUpdate:modelValue":t[33]||(t[33]=function(e){return Un.value=e}),transition:"slide-y-transition",fullscreen:""},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",nt,[(0,r.bF)(u,{id:"video-close-icon",class:"close-icon",icon:"times",size:"lg",onClick:t[31]||(t[31]=function(e){return Un.value=!1}),onKeyup:t[32]||(t[32]=(0,o.jR)(function(e){return Un.value=!1},["enter"])),tabindex:"0"}),t[51]||(t[51]=(0,r.Lk)("video",{controls:"",id:"info-video"},[(0,r.Lk)("source",{src:"",type:"video/mp4"})],-1))])]}),_:1},8,["modelValue"]),(0,r.bF)(_e.p,{style:(0,i.Tr)(Pn.value),class:(0,i.C4)(["info-sheet","info-sheet-".concat(Dn.value)]),id:"text-info-sheet","hide-overlay":"",persistent:"","no-click-animation":"",absolute:"",width:"100%",scrim:!1,location:"bottom",modelValue:An.value,"onUpdate:modelValue":t[38]||(t[38]=function(e){return An.value=e}),transition:Fn.value},{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,{height:"100%"},{default:(0,r.k6)(function(){return[(0,r.bF)(Re.h,{modelValue:B.value,"onUpdate:modelValue":t[34]||(t[34]=function(e){return B.value=e}),height:"32px",color:Et.value,"slider-color":Et.value,id:"tabs",dense:""},{default:(0,r.k6)(function(){return[(0,r.bF)(Le.U,{class:"info-tabs",tabindex:"0"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[52]||(t[52]=[(0,r.Lk)("h3",null,"How to Use",-1)])),!1)}),_:1}),(0,r.bF)(Le.U,{class:"info-tabs",tabindex:"0"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[53]||(t[53]=[(0,r.Lk)("h3",null,"What to Explore",-1)])),!1)}),_:1})]}),_:1},8,["modelValue","color","slider-color"]),(0,r.bF)(u,{id:"close-text-icon",class:"control-icon",icon:"times",size:"lg",onClick:t[35]||(t[35]=function(e){return An.value=!1}),onKeyup:t[36]||(t[36]=(0,o.jR)(function(e){return An.value=!1},["enter"])),tabindex:"0"}),(0,r.bF)(Se.r3,{modelValue:B.value,"onUpdate:modelValue":t[37]||(t[37]=function(e){return B.value=e}),id:"tab-items",class:"pb-2 no-bottom-border-radius"},{default:(0,r.k6)(function(){return[(0,r.bF)(Te.m,null,{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,{class:"no-bottom-border-radius scrollable"},{default:(0,r.k6)(function(){return[(0,r.bF)(he.O,{class:"info-text no-bottom-border-radius"},{default:(0,r.k6)(function(){return[(0,r.bF)(we.I,null,{default:(0,r.k6)(function(){return[t[82]||(t[82]=(0,r.Lk)("p",null," This interactive lets you view the path of the Sun in the sky on the solstices and equinoxes from any location on Earth! ",-1)),(0,r.Lk)("ul",ot,[(0,r.Lk)("li",at,[t[54]||(t[54]=(0,r.eW)(" Click ",-1)),(0,r.bF)(u,{icon:"location-dot",color:Et.value},null,8,["color"]),t[55]||(t[55]=(0,r.eW)(" in the upper left to choose a different location. ",-1))]),t[73]||(t[73]=(0,r.Lk)("li",{class:"pb-3"}," Click the buttons in the upper right to choose a different date. ",-1)),t[74]||(t[74]=(0,r.Lk)("li",null," Use the time slider at the bottom to see how the Sun moves through the sky on your chosen date from your chosen location. ",-1)),t[75]||(t[75]=(0,r.Lk)("div",{class:"py-1 pl-3"}," or ",-1)),(0,r.Lk)("li",null,[t[56]||(t[56]=(0,r.eW)(" Press ",-1)),(0,r.bF)(u,{icon:"play",color:Et.value},null,8,["color"]),t[57]||(t[57]=(0,r.eW)("/ ",-1)),(0,r.bF)(u,{icon:"pause",color:Et.value},null,8,["color"]),t[58]||(t[58]=(0,r.eW)(" to start/stop time. ",-1))]),(0,r.Lk)("li",null,[(0,r.bF)(u,{icon:"angles-up",color:Et.value},null,8,["color"]),t[59]||(t[59]=(0,r.eW)(" and ",-1)),(0,r.bF)(u,{icon:"angles-down",color:Et.value},null,8,["color"]),t[60]||(t[60]=(0,r.eW)(" to speed up and slow down time. ",-1))]),(0,r.Lk)("li",null,[(0,r.bF)(ke.w,{color:Et.value},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[61]||(t[61]=[(0,r.eW)("mdi-step-backward-2",-1)])),!1)}),_:1},8,["color"]),t[63]||(t[63]=(0,r.eW)("/",-1)),(0,r.bF)(ke.w,{color:Et.value},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[62]||(t[62]=[(0,r.eW)("mdi-step-forward-2",-1)])),!1)}),_:1},8,["color"]),t[64]||(t[64]=(0,r.eW)(" to play time in reverse/forwards. ",-1))]),(0,r.Lk)("li",null,[(0,r.bF)(u,{icon:"rotate",color:Et.value},null,8,["color"]),t[65]||(t[65]=(0,r.eW)(" to reset the time and view to sunrise for the day. ",-1))]),t[76]||(t[76]=(0,r.Lk)("div",{class:"py-1 pl-3"}," or ",-1)),(0,r.Lk)("li",null,[t[69]||(t[69]=(0,r.eW)(" Jump directly to ",-1)),(0,r.bF)(me.x,{color:Et.value,variant:"elevated",size:"small",class:"time-chip"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[66]||(t[66]=[(0,r.eW)(" Sunrise ",-1)])),!1)}),_:1},8,["color"]),t[70]||(t[70]=(0,r.eW)(", ",-1)),(0,r.bF)(me.x,{color:Et.value,variant:"elevated",size:"small",class:"time-chip"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[67]||(t[67]=[(0,r.eW)(" Midday ",-1)])),!1)}),_:1},8,["color"]),t[71]||(t[71]=(0,r.eW)(", or ",-1)),(0,r.bF)(me.x,{color:Et.value,variant:"elevated",size:"small",class:"time-chip"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[68]||(t[68]=[(0,r.eW)(" Sunrise ",-1)])),!1)}),_:1},8,["color"]),t[72]||(t[72]=(0,r.eW)(" using the buttons under the time slider. ",-1))]),t[77]||(t[77]=(0,r.Lk)("li",{class:"py-3"}," Move around the sky: ",-1))]),(0,r.bF)(be.L,{align:"center",class:"pb-5"},{default:(0,r.k6)(function(){return[(0,r.bF)(ye.B,{cols:"4"},{default:(0,r.k6)(function(){return[(0,r.bF)(me.x,{label:"",outlined:""},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[78]||(t[78]=[(0,r.eW)(" Pan ",-1)])),!1)}),_:1})]}),_:1}),(0,r.bF)(ye.B,{cols:"8",class:"pt-1"},{default:(0,r.k6)(function(){return[(0,r.Lk)("strong",null,(0,i.v_)((0,s.R1)(R)?"press + drag":"click + drag"),1),(0,r.eW)(" "+(0,i.v_)((0,s.R1)(R)?":":"or")+" ",1),(0,r.Lk)("strong",null,(0,i.v_)((0,s.R1)(R)?":":"W-A-S-D"),1),(0,r.eW)(" "+(0,i.v_)((0,s.R1)(R)?":":"keys"),1),t[79]||(t[79]=(0,r.Lk)("br",null,null,-1))]}),_:1})]}),_:1}),(0,r.bF)(be.L,{align:"center"},{default:(0,r.k6)(function(){return[(0,r.bF)(ye.B,{cols:"4"},{default:(0,r.k6)(function(){return[(0,r.bF)(me.x,{label:"",outlined:""},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[80]||(t[80]=[(0,r.eW)(" Zoom ",-1)])),!1)}),_:1})]}),_:1}),(0,r.bF)(ye.B,{cols:"8",class:"pt-1"},{default:(0,r.k6)(function(){return[(0,r.Lk)("strong",null,(0,i.v_)((0,s.R1)(R)?"pinch in and out":"scroll in and out"),1),(0,r.eW)(" "+(0,i.v_)((0,s.R1)(R)?":":"or")+" ",1),(0,r.Lk)("strong",null,(0,i.v_)((0,s.R1)(R)?":":"I-O"),1),(0,r.eW)(" "+(0,i.v_)((0,s.R1)(R)?":":"keys"),1),t[81]||(t[81]=(0,r.Lk)("br",null,null,-1))]}),_:1})]}),_:1}),(0,r.bF)(Ce.h,{class:"end-spacer"})]}),_:1})]}),_:1})]}),_:1})]}),_:1}),(0,r.bF)(Te.m,null,{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,{class:"no-bottom-border-radius scrollable"},{default:(0,r.k6)(function(){return[(0,r.bF)(he.O,{class:"info-text no-bottom-border-radius"},{default:(0,r.k6)(function(){return[(0,r.bF)(we.I,null,{default:(0,r.k6)(function(){return[t[84]||(t[84]=(0,r.Lk)("h3",{class:"pb-1"}," The Reason for Seasons ",-1)),t[85]||(t[85]=(0,r.Lk)("p",null," Earth's axis has a 23.4 degree tilt, which causes the seasons we experience. ",-1)),t[86]||(t[86]=(0,r.Lk)("p",null," The key factors are how high in the sky the Sun gets, and how long it stays in the sky on a particular day. The higher the Sun and the longer it is in the sky, the more energy we receive. ",-1)),t[87]||(t[87]=(0,r.Lk)("p",null," You can explore how the Sun moves in the sky on different dates for a single location, or for multiple locations. ",-1)),t[88]||(t[88]=(0,r.Lk)("h4",{class:"pt-2"},"Explore a single location",-1)),t[89]||(t[89]=(0,r.Lk)("p",null," For a single location, here are some questions you might try to answer: ",-1)),t[90]||(t[90]=(0,r.Lk)("ul",{class:"ml-5 pb-1 explore-list"},[(0,r.Lk)("li",null," What is the angle of the Sun in the sky when it reaches its peak height on each of the four equinox and solstice dates? "),(0,r.Lk)("li",null," On which of those dates is the Sun's peak height the highest? "),(0,r.Lk)("li",null," On which of those dates is the Sun's peak height the lowest? "),(0,r.Lk)("li",null," How many hours is the Sun in the sky on each of the four equinox and solstice dates? "),(0,r.Lk)("li",null," On which of those dates is the Sun in the sky for the most amount of time? "),(0,r.Lk)("li",null," On which of those dates is the Sun in the sky for the least amount of time? "),(0,r.Lk)("li",null," Why do you think the equinoxes are called equinoxes? "),(0,r.Lk)("li",null," What are the differences in the peak heights for those four dates, and how does it relate to the tilt of the Earth's axis? "),(0,r.Lk)("li",null," What is notable about where the Sun rises and sets on the equinoxes? ")],-1)),t[91]||(t[91]=(0,r.Lk)("h4",{class:"pt-2"},"Explore multiple locations",-1)),t[92]||(t[92]=(0,r.Lk)("p",null," Use the location selector to try answering some of these questions: ",-1)),t[93]||(t[93]=(0,r.Lk)("ul",{class:"ml-5 pb-1 explore-list"},[(0,r.Lk)("li",null," What seasons would be experienced by someone at your latitude, but roughly on the opposite side of the equator? (For example, Cambridge, MA has a latitude 42° NORTH of the equator. How would the seasons compare at a latitude that is 42° SOUTH of the equator?) "),(0,r.Lk)("li",null," At what latitude ranges will the Sun never rise or never set on the solstices? "),(0,r.Lk)("li",null," What latitude ranges will never experience the Sun being directly overhead (at a sky angle of 90°) on any date? "),(0,r.Lk)("li",null," What latitude ranges will experience equal day and night every single day? ")],-1)),(0,r.bF)(be.L,{class:"mt-5"},{default:(0,r.k6)(function(){return[(0,r.bF)(ye.B,{cols:"12"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[83]||(t[83]=[(0,r.Lk)("div",{class:"credits"},[(0,r.Lk)("h3",null,"Credits:"),(0,r.Lk)("h4",null,[(0,r.Lk)("a",{href:"https://www.cosmicds.cfa.harvard.edu/",target:"_blank",rel:"noopener noreferrer"},"CosmicDS"),(0,r.eW)(" Vue Data Stories Team:")]),(0,r.eW)(" Pat Udomprasert"),(0,r.Lk)("br"),(0,r.eW)(" Jon Carifio"),(0,r.Lk)("br"),(0,r.eW)(" Azmé Tariq"),(0,r.Lk)("br"),(0,r.eW)(" Harry Houghton"),(0,r.Lk)("br"),(0,r.eW)(" John Lewis"),(0,r.Lk)("br"),(0,r.eW)(" Alyssa Goodman"),(0,r.Lk)("br"),(0,r.eW)(" Mary Dussault"),(0,r.Lk)("br"),(0,r.eW)(" Harry Houghton"),(0,r.Lk)("br"),(0,r.eW)(" Evaluator: Sue Sunbury"),(0,r.Lk)("br"),(0,r.Lk)("h4",{class:"pt-4"},"WorldWide Telescope Team:"),(0,r.eW)(" Peter Williams"),(0,r.Lk)("br"),(0,r.eW)(" A. David Weigel"),(0,r.Lk)("br"),(0,r.eW)(" Jon Carifio"),(0,r.Lk)("br")],-1)])),!1)}),_:1})]}),_:1}),(0,r.bF)(be.L,null,{default:(0,r.k6)(function(){return[(0,r.bF)(ye.B,null,{default:(0,r.k6)(function(){return[(0,r.bF)(_)]}),_:1})]}),_:1}),(0,r.bF)(Ce.h,{class:"end-spacer"})]}),_:1})]}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])]}),_:1})]}),_:1},8,["style","class","modelValue","transition"]),(0,r.bF)(_e.p,{scrim:"false",modelValue:Qn.value,"onUpdate:modelValue":t[41]||(t[41]=function(e){return Qn.value=e}),"max-width":"400px",id:"privacy-popup-dialog"},{default:(0,r.k6)(function(){return[(0,r.bF)(de.J,null,{default:(0,r.k6)(function(){return[(0,r.bF)(he.O,null,{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[94]||(t[94]=[(0,r.eW)(" To evaluate usage of this app, ",-1),(0,r.Lk)("strong",null,"anonymized",-1),(0,r.eW)(" data may be collected, including user feedback and locations searched or selected on map. Places selected via geolocation services on your device are NOT collected. ",-1)])),!1)}),_:1}),(0,r.bF)(fe.S,{class:"pt-3"},{default:(0,r.k6)(function(){return[(0,r.bF)(Ce.h),(0,r.bF)(ce.D,{color:"#BDBDBD",href:"https://www.cfa.harvard.edu/privacy-statement",target:"_blank",rel:"noopener noreferrer"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[95]||(t[95]=[(0,r.eW)(" Privacy Policy ",-1)])),!1)}),_:1}),(0,r.bF)(ce.D,{color:"#ff6666",onClick:t[39]||(t[39]=function(){Nn.value=!0,Qn.value=!1})},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[96]||(t[96]=[(0,r.eW)(" Opt out ",-1)])),!1)}),_:1}),(0,r.bF)(ce.D,{color:"green",onClick:t[40]||(t[40]=function(){Nn.value=!1,Qn.value=!1})},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[97]||(t[97]=[(0,r.eW)(" Allow ",-1)])),!1)}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue"]),(0,r.bF)(De.Qo,null,{default:(0,r.k6)(function(){return[(0,r.bo)((0,r.bF)(w,{onDismiss:t[42]||(t[42]=function(){return I.value=!1}),onOptOut:t[43]||(t[43]=function(){I.value=!1,Zn.value=!0}),onFinish:t[44]||(t[44]=function(e){(0,s.R1)(lo).push(e),I.value=!1})},null,512),[[o.aG,I.value]])]}),_:1})])]}),_:1},8,["style"])}}}),gt=ft,mt=gt;var pt=n(3689),_t=n(331),wt={id:"location-input-section"},bt={key:0,class:"error-message"},yt={id:"splash-screen-acknowledgements"},Ct={id:"splash-screen-logos"};const kt=(0,r.pM)({__name:"SplashScreen",props:(0,r.zz)({cssVars:{default:function(){return{}}},title:{},color:{},highlightColor:{}},{modelValue:{default:!0},modelModifiers:{}}),emits:(0,r.zz)(["close","location-selected"],["update:modelValue"]),setup:function(e,t){var n,a=t.emit,u=e,c=(0,r.EW)(function(){return(0,l.Cl)((0,l.Cl)({},u.cssVars),{"--accent-color":null==u.color?u.cssVars["--accent-color"]:u.color})}),d=a,v=(0,r.fn)(e,"modelValue"),h=(0,s.KR)(null),f={access_token:null!==(n="pk.eyJ1IjoiY29zbWljZHMiLCJhIjoiY2xzOWV3aHRnMDY4ejJzbGRtZ2x4bW4yZyJ9.8qTaW6RulUyg4awUJ4a-Kg")&&void 0!==n?n:""};function g(e){return(0,_.vU)(e,f)}function m(e){d("location-selected",e),h.value=null}function p(){v.value=!1,d("close")}return function(e,t){var n=(0,r.g2)("font-awesome-icon"),a=(0,r.g2)("location-search"),s=(0,r.g2)("credit-logos"),u=(0,r.g2)("focus-trap");return(0,r.uX)(),(0,r.Wv)(pt.L,{"model-value":v.value,absolute:"",opacity:"0.6",style:(0,i.Tr)(c.value),id:"splash-overlay"},{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.bo)(((0,r.uX)(),(0,r.CE)("div",{id:"splash-screen",style:(0,i.Tr)(c.value)},[(0,r.bF)(n,{id:"close-splash-button",onClick:p,onKeyup:(0,o.jR)(p,["enter"]),icon:"xmark",tabindex:"0"}),t[4]||(t[4]=(0,r.Lk)("div",{id:"splash-title"},[(0,r.Lk)("p",null,"The Sun's Seasonal Journey")],-1)),t[5]||(t[5]=(0,r.Lk)("div",{id:"invitation"}," See how the Sun's path changes on the solstices and equinoxes from any location on Earth! ",-1)),(0,r.Lk)("div",wt,[t[1]||(t[1]=(0,r.Lk)("p",{class:"location-prompt"},"Enter a location:",-1)),(0,r.bF)(a,{class:(0,i.C4)(["splash-location-search"]),small:"","button-size":"large","accent-color":c.value["--accent-color"],"search-provider":g,onSetLocation:m,onError:t[0]||(t[0]=function(e){return h.value=e}),placeholder:"Enter city, state, or address"},null,8,["accent-color"]),h.value?((0,r.uX)(),(0,r.CE)("div",bt,(0,i.v_)(h.value),1)):(0,r.Q3)("",!0)]),t[6]||(t[6]=(0,r.Lk)("div",{class:"medium"}," or ",-1)),(0,r.Lk)("div",null,[(0,r.bF)(ce.D,{class:"splash-get-started",onClick:p,onKeyup:(0,o.jR)(p,["enter"]),color:c.value["--accent-color"],density:e.$vuetify.display.xs?"compact":"default",size:e.$vuetify.display.width<500||e.$vuetify.display.height<550?"medium":"x-large",variant:"elevated",rounded:"lg"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(t[2]||(t[2]=[(0,r.eW)(" Use Cambridge, MA ",-1)])),!1)}),_:1},8,["color","density","size"])]),(0,r.Lk)("div",yt,[t[3]||(t[3]=(0,r.Lk)("span",null,[(0,r.eW)(" Brought to you by "),(0,r.Lk)("a",{href:"https://www.cosmicds.cfa.harvard.edu/",target:"_blank",rel:"noopener noreferrer"},"Cosmic Data Stories"),(0,r.eW)(" and "),(0,r.Lk)("a",{href:"https://www.worldwidetelescope.org/home/",target:"_blank",rel:"noopener noreferrer"},"WorldWide Telescope"),(0,r.eW)(". ")],-1)),(0,r.Lk)("div",Ct,[(0,r.bF)(s,{"default-logos":["cosmicds","wwt","sciact","nasa"]})])])],4)),[[_t.i,p]])]}),_:1})]}),_:1},8,["model-value","style"])}}}),xt=kt,Rt=xt;var Lt=n(6195);const St=(0,r.pM)({__name:"LocationSearch",props:{searchProvider:{type:Function,default:function(e){return null}},modelValue:{type:Boolean,default:!0},stayOpen:{type:Boolean,default:!1},accentColor:{default:"white"},small:{type:Boolean,default:!1},theme:{default:"dark"},buttonSize:{default:"1x"},bgColor:{default:"black"}},emits:["error","set-location","update:modelValue"],setup:function(e,t){var n=t.emit,a=e,l=n,u=(0,s.KR)(a.modelValue||a.stayOpen),c=(0,s.KR)(null),d=(0,s.KR)(null),v=(0,s.KR)(null),h=(0,s.KR)(!1),f=(0,s.KR)(!1),g=(0,s.KR)(!1),m=(0,s.KR)(null),p=(0,r.EW)(function(){return{"--accent-color":a.accentColor,"--bg-color":a.bgColor,"--fg-container-padding":u.value?a.small?"0px 5px 0px 0px":"5px 10px 12px 10px":"0px","--border-radius":u.value?"7px":"20px"}});function w(e){return"string"===typeof e?e:(0,_.Wi)(e)}function b(){var e=c.value;null===e||e.length<3||a.searchProvider(e).then(function(e){null!==e&&1===e.features.length?R(e.features[0]):null!==e&&0===e.features.length?(v.value="No matching places were found",l("error",v.value)):d.value=e})}function y(){var e=m.value;e.focus()}function C(){var e=m.value;e.blur()}function k(){u.value?(b(),f.value=!0,y()):u.value=!0}function x(e){g.value=e}function R(e){C(),S(),L(),l("set-location",e)}function L(){d.value=null,c.value=null,v.value=null}function S(){h.value=!0,setTimeout(function(){h.value=!1},5e3)}return(0,r.wB)(function(){return a.modelValue},function(e){u.value=e}),(0,r.wB)(u,function(e){return l("update:modelValue",e)}),(0,r.wB)(c,function(e){v.value&&(v.value=null),(!e||"string"===typeof e&&0===e.length)&&(d.value=null),e&&"string"!==typeof e&&R(e)}),function(t,n){var a=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",{class:"forward-geocoding-container",style:(0,i.Tr)(p.value)},[(0,r.bo)((0,r.bF)(Lt.A,{class:(0,i.C4)(["forward-geocoding-input",h.value?"geocode-success":"",e.small?"forward-geocoding-input-small":""]),modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return c.value=e}),items:d.value?d.value.features:[],"item-title":w,"bg-color":e.bgColor,label:"Enter city or zip",density:e.small?"compact":"default","hide-details":"",solo:"",color:e.accentColor,onInput:function(){},onKeydown:[(0,o.jR)(b,["enter"]),n[1]||(n[1]=(0,o.jR)(function(e){return d.value=null},["esc"])),n[2]||(n[2]=(0,o.D$)(function(){},["stop"]))],"error-messages":v.value,"onClick:append":y,"onUpdate:focused":n[3]||(n[3]=function(e){return x(e)}),ref_key:"searchInput",ref:m,menu:f.value,"onUpdate:menu":n[4]||(n[4]=function(e){return f.value=e})},{append:(0,r.k6)(function(){return[(0,r.bF)(a,{class:"geocoding-search-icon",icon:"magnifying-glass",size:u.value?"xl":e.buttonSize,color:"gray",onClick:k},null,8,["size"])]}),_:1},8,["class","modelValue","items","bg-color","density","color","error-messages","menu"]),[[o.aG,u.value]]),(0,r.bo)((0,r.bF)(a,{class:"geocoding-search-icon",icon:"magnifying-glass",size:u.value?"xl":e.buttonSize,color:"gray",onClick:(0,o.D$)(k,["prevent"])},null,8,["size"]),[[o.aG,!u.value&&!e.stayOpen]])],4)}}}),Tt=St,Dt=Tt;var Wt={class:"td__container"},Mt={key:0,class:"td__date"},zt={class:"td__date_date"},Ft={key:1,class:"td__time"},Pt={class:"td__time_time"},Et={key:2,class:"td__timezone"},At={class:"td__timezone_tz"},Ut={key:3,class:"td__time"},Vt={class:"td__time_time td__short_time"};const Ot=(0,r.pM)({__name:"TimeDisplay",props:{date:{type:Date,required:!0},ampm:{type:Boolean,default:!1},showDate:{type:Boolean,default:!0,required:!1},showTimezone:{type:Boolean,default:!0,required:!1},shortTimeDate:{type:Boolean,default:!1,required:!1},timezone:{type:String,default:Intl.DateTimeFormat().resolvedOptions().timeZone,required:!1}},setup:function(e){var t=e;function n(e,t){return void 0===t&&(t=2),String(e).padStart(t,"0")}var o=(0,r.EW)(function(){if(t.ampm){var e=t.date.getHours()%12;return 0===e?12:e}return t.date.getHours()}),a=(0,r.EW)(function(){return t.date.getHours()>=12?"PM":"AM"}),l=(0,r.EW)(function(){var e=t.date.getFullYear(),o=t.date.toLocaleString("default",{month:"short"}),a=t.date.getDate(),l=t.date.getHours()%12,r=0===l?12:l,i=n(t.date.getMinutes()),s=t.date.getHours()>=12?"PM":"AM",u=t.timezone;return"".concat(o," ").concat(a," ").concat(e," ").concat(r,":").concat(i," ").concat(s)+(t.showTimezone?" ".concat(u):"")});return function(e,s){return(0,r.uX)(),(0,r.CE)("div",Wt,[t.showDate&&!t.shortTimeDate?((0,r.uX)(),(0,r.CE)("div",Mt,[(0,r.Lk)("span",zt,(0,i.v_)(t.date.toLocaleString("default",{month:"long"}))+" "+(0,i.v_)(n(t.date.getDate()))+", "+(0,i.v_)(t.date.getFullYear()),1)])):(0,r.Q3)("",!0),t.shortTimeDate?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ft,[(0,r.Lk)("span",Pt,(0,i.v_)(n(o.value))+":"+(0,i.v_)(n(t.date.getMinutes()))+":"+(0,i.v_)(n(t.date.getSeconds()))+" "+(0,i.v_)(t.ampm?a.value:""),1)])),t.showTimezone&&!t.shortTimeDate?((0,r.uX)(),(0,r.CE)("div",Et,[(0,r.Lk)("span",At,(0,i.v_)(t.timezone),1)])):(0,r.Q3)("",!0),t.shortTimeDate?((0,r.uX)(),(0,r.CE)("div",Ut,[(0,r.Lk)("span",Vt,(0,i.v_)(l.value),1)])):(0,r.Q3)("",!0)])}}}),It=Ot,Gt=It;var Bt=.02;const jt=(0,r.pM)({__name:"DaylightPieChart",props:{dayColor:{default:"#ffdf22"},nightColor:{default:"#191970"},rise:{},set:{},size:{default:"100px"},always:{default:null},timezoneOffset:{default:0}},setup:function(e){var t=e,n=(0,r.EW)(function(){return S(t.rise+t.timezoneOffset)}),o=(0,r.EW)(function(){return S(t.set-t.rise)}),a=(0,r.EW)(function(){var e="".concat((n.value-Bt).toFixed(2),"turn"),a="".concat((n.value+Bt).toFixed(2),"turn"),l="".concat((n.value+o.value-Bt).toFixed(2),"turn"),r="".concat((n.value+o.value+Bt).toFixed(2),"turn");return{"--day-color":t.dayColor,"--night-color":t.nightColor,"--size":t.size,"--background":"up"==t.always?t.dayColor:"down"==t.always?t.nightColor:"conic-gradient(\n               var(--night-color) ".concat(e,",\n               var(--day-color) ").concat(a," ").concat(l,",\n               var(--night-color) ").concat(r,"\n             )\n             ")}});return function(e,t){return(0,r.uX)(),(0,r.CE)("div",{class:"daylight-pie-chart",style:(0,i.Tr)(a.value)},null,4)}}});var Kt=n(6262);const qt=(0,Kt.A)(jt,[["__scopeId","data-v-7767cc8e"]]),Xt=qt;var Jt=n(7027),Yt=n(5267),Ht={class:"question-title"},Nt={class:"button-row"};const Zt=(0,r.pM)({__name:"QuestionDialog",props:{question:{default:"Share an “aha” moment about seasons that you experienced from using this app."},color:{default:"surface"},baseColor:{}},emits:["dismiss","opt-out","finish"],setup:function(e,t){var n=t.emit,a=n,u=(0,r.Ht)(),c=(0,r.EW)(function(){return!!u.footer}),d=(0,r.EW)(function(){return{"--footer-visible":c.value?"visible":"none"}}),v=(0,s.KR)(null);return function(t,n){return(0,r.uX)(),(0,r.Wv)(de.J,{class:"question-root",color:e.color,style:(0,i.Tr)(d.value)},{actions:(0,r.k6)(function(){return[(0,r.RG)(t.$slots,"footer")]}),default:(0,r.k6)(function(){return[(0,r.bF)(ce.D,{density:"compact",class:"close-button",icon:"mdi-close",onClick:n[0]||(n[0]=function(e){return a("dismiss",v.value)})}),(0,r.bF)(he.O,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ht,(0,i.v_)(e.question),1),(0,r.bF)(Jt.n,{onSubmit:n[4]||(n[4]=(0,o.D$)(function(){a("finish",v.value),v.value=null},["prevent"]))},{default:(0,r.k6)(function(){return[(0,r.bF)(De.Qo,null,{default:(0,r.k6)(function(){return[(0,r.bF)(Yt.J,{modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),class:"response-box text-body-2","max-rows":"4",density:"compact",width:"100%",onKeydown:n[2]||(n[2]=(0,o.D$)(function(){},["stop"]))},null,8,["modelValue"])]}),_:1}),n[7]||(n[7]=(0,r.Lk)("div",{class:"mb-4"},[(0,r.Lk)("span",{class:"info-text"}," Your anonymous response will be used by the CosmicDS team to improve the educational experience. ")],-1)),(0,r.bF)(De.Qo,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Nt,[(0,r.bF)(ce.D,{color:"#BDBDBD",size:"small",variant:"text",onClick:n[3]||(n[3]=function(e){return a("opt-out")})},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(n[5]||(n[5]=[(0,r.eW)(" Don't show this again ",-1)])),!1)}),_:1}),(0,r.bF)(ce.D,{type:"submit",width:"fit-content",color:"success"},{default:(0,r.k6)(function(){return(0,l.fX)([],(0,l.zs)(n[6]||(n[6]=[(0,r.eW)(" Submit ",-1)])),!1)}),_:1})])]}),_:1})]}),_:1})]}),_:1})]}),_:3},8,["color","style"])}}}),Qt=Zt,$t=Qt;var en=n(1050),tn=n(4825),nn=n(1569);n(5524);const on=(0,tn.$N)({icons:{defaultSet:"mdi",aliases:en.z,sets:{mdi:en.r}},locale:{locale:"en",fallback:"en",messages:{en:nn.A}},theme:{defaultTheme:"dark"}});var an=n(1273),ln=n(7107),rn=n(6188);ln.Yv.add(rn.ReK),ln.Yv.add(rn.gKm),ln.Yv.add(rn.oMq),ln.Yv.add(rn.GRI),ln.Yv.add(rn.n2W),ln.Yv.add(rn.Jyw),ln.Yv.add(rn.ktq),ln.Yv.add(rn.$UM),ln.Yv.add(rn.ijD),ln.Yv.add(rn.G1Y),ln.Yv.add(rn.isQ);var sn=function(e,t){return e.style.visibility=t.value?"hidden":""};(0,o.Ef)(mt,{wwtNamespace:"seasons-story"}).use(p.wwtPinia).use(on).directive("hide",{beforeMount:function(e,t,n,o){sn(e,t)},updated:function(e,t,n,o){sn(e,t)}}).component("WorldWideTelescope",p.WWTComponent).component("splash-screen",Rt).component("font-awesome-icon",an.gc).component("font-awesome-layers",an.Vg).component("icon-button",a.IconButton).component("funding-acknowledgement",a.FundingAcknowledgement).component("credit-logos",a.CreditLogos).component("speed-control",a.SpeedControl).component("geolocation-button",a.GeolocationButton).component("location-search",Dt).component("location-selector",a.LocationSelector).component("date-time-picker",a.DateTimePicker).component("time-display",Gt).component("question-dialog",$t).component("v-icon",ke.w).component("daylight-pie-chart",Xt).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,o,a,l)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){for(var[o,a,l]=e[c],i=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every(e=>n.O[e](o[s]))?o.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,a,l]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,l,[r,i,s]=o,u=0;if(r.some(t=>0!==e[t])){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(s)var c=s(n)}for(t&&t(o);u<r.length;u++)l=r[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self["webpackChunk_cosmicds_seasons_story"]=self["webpackChunk_cosmicds_seasons_story"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[504],()=>n(2343));o=n.O(o)})();
//# sourceMappingURL=app.eba777c5.js.map