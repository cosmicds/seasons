{"version":3,"file":"js/app.c1b1a23e.js","mappings":"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","sources":["webpack://@cosmicds/seasons-story/./src/timezones.ts","webpack://@cosmicds/seasons-story/./src/utils.ts","webpack://@cosmicds/seasons-story/./src/horizon_sky.ts","webpack://@cosmicds/seasons-story/./src/text.ts","webpack://@cosmicds/seasons-story/./src/wwt-hacks.ts","webpack://@cosmicds/seasons-story/./src/composables/useSun.ts","webpack://@cosmicds/seasons-story/./src/SeasonsStory.vue?1cd0","webpack://@cosmicds/seasons-story/./src/SeasonsStory.vue","webpack://@cosmicds/seasons-story/./src/SeasonsStory.vue?2939","webpack://@cosmicds/seasons-story/./plugins/vuetify.ts","webpack://@cosmicds/seasons-story/./src/main.ts","webpack://@cosmicds/seasons-story/webpack/bootstrap","webpack://@cosmicds/seasons-story/webpack/runtime/chunk loaded","webpack://@cosmicds/seasons-story/webpack/runtime/compat get default export","webpack://@cosmicds/seasons-story/webpack/runtime/define property getters","webpack://@cosmicds/seasons-story/webpack/runtime/global","webpack://@cosmicds/seasons-story/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/seasons-story/webpack/runtime/make namespace object","webpack://@cosmicds/seasons-story/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/seasons-story/webpack/startup"],"sourcesContent":["import { Ref, computed} from 'vue';\nimport { getTimezoneOffset, formatInTimeZone } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { LocationDeg } from './types';\n\n\nexport function useTimezone(selectedLocation: Ref<LocationDeg>) {\n  // selectedDate keeps track of the time the user has selected\n  \n  const selectedTimezone = computed(() => tzlookup(selectedLocation.value.latitudeDeg, selectedLocation.value.longitudeDeg));\n\n  // what we add to utc time to get the localized time\n  const selectedTimezoneOffset = computed(() => getTimezoneOffset(selectedTimezone.value));\n  const shortTimezone = computed(() => formatInTimeZone(new Date(), selectedTimezone.value, \"zzz\"));\n\n  const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  // this is added to (new Date()).getHours() to get UTC hours\n  const browserTimezoneOffset = new Date().getTimezoneOffset() * 60 * 1000; // in milliseconds\n  \n  console.log('Browser timezone:', browserTimezone);\n  console.log('Browser timezone offset:', browserTimezoneOffset);\n  console.log('Selected timezone:', selectedTimezone.value);\n  console.log('Selected timezone offset:', selectedTimezoneOffset.value);\n  \n  return {\n    selectedTimezone,\n    shortTimezone,\n    selectedTimezoneOffset,\n    browserTimezone,\n    browserTimezoneOffset,\n  };\n}","import { D2R, R2D } from \"@cosmicds/vue-toolkit\";\nimport { HorizontalRad, EquatorialRad } from \"./types\";\n\n// WWT does have all of this functionality built in\n// but it doesn't seem to be exposed\n// We should do that, but for now we just copy the web engine code\n// https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\nexport function altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n  azRad = Math.PI - azRad;\n  if (azRad < 0) {\n    azRad += 2 * Math.PI;\n  }\n  let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n  if (ra < 0) {\n    ra += 2 * Math.PI;\n  }\n  const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n  return { ra, dec };\n}\n\nexport function getJulian(utc: Date): number {\n  let year = utc.getUTCFullYear();\n  let month = utc.getUTCMonth()+1;\n  const day = utc.getUTCDate();\n  const hour = utc.getUTCHours();\n  const minute = utc.getUTCMinutes();\n  const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n  if (month == 1 || month == 2)\n  {\n    year -= 1;\n    month += 12;\n  }\n\n  const a = Math.floor(year / 100);\n  const b = 2 - a + Math.floor(a / 4.0);\n  const c = Math.floor(365.25 * year);\n  const d = Math.floor(30.6001 * (month + 1));\n\n  // gives julian date: number of days since Jan 1, 4713 BC\n  const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n  return jd;\n}\n\nexport function mstFromUTC2(utc: Date, longRad: number): number {\n  const lng = longRad * R2D;\n\n  const modifiedJD = getJulian(utc)  - 2451545;\n\n  const julianCenturies = modifiedJD / 36525.0;\n  // this form wants julianDays - 2451545\n  let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n  if (mst > 0.0) {\n    while (mst > 360.0) {\n      mst = mst - 360.0;\n    }\n  } else {\n    while (mst < 0.0) {\n      mst = mst + 360.0;\n    }\n  }\n\n  return mst;\n}\n\nexport function horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n  const st = mstFromUTC2(utc, longRad); // siderial time \n\n  const haDec = altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n  \n  const ha = haDec.ra * R2D;\n\n  let ra = st + ha;\n  if (ra < 0) {\n    ra += 360;\n  }\n  if (ra > 360) {\n    ra -= 360;\n  }\n  // ra -= 180;\n  // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n  return { raRad: D2R * ra, decRad: haDec.dec };\n}\n\nexport function equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n  let hourAngle = mstFromUTC2(utc, longRad) - R2D * raRad;\n  if (hourAngle < 0) {\n    hourAngle += 360;\n  }\n\n  const ha = D2R * hourAngle;\n  const dec = decRad;\n  const lat = latRad;\n  \n  const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n  const altitude = Math.asin(sinAlt);\n  const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n  let azimuth = Math.acos(cosAz);\n\n  azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n  if (Math.sin(ha) > 0) {\n    azimuth = 2 * Math.PI - azimuth;\n  }\n  return { altRad: altitude, azRad: azimuth };\n\n}\n\nexport function skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return Math.min(Math.max((1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2, 0), 1);\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\n\n// We need this import for WWT types that aren't exported\n// from the engine at the JS level\nimport * as wwtlib from \"@wwtelescope/engine\";\nimport {\n  Color,\n  Coordinates,\n  Place,\n  RenderContext,\n  Settings,\n  SpaceTimeController,\n  WWTControl,\n} from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { HorizonSkyOptions } from \"./types\";\nimport { equatorialToHorizontal, horizontalToEquatorial, skyOpacityForSunAlt } from \"./utils\";\nimport { D2R, R2D } from \"@cosmicds/vue-toolkit\";\n\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\n\nexport const drawHorizon = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  color.a = Math.round(255 * options.opacity ?? 1);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [-Math.PI / 2, i * delta],\n      [0, (i + 1) * delta]\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n\n\nexport const drawSky = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n                                          sunPlace.get_dec() * D2R,\n                                          latitudeRad,\n                                          longitudeRad,\n                                          SpaceTimeController.get_now());\n  const opacity = skyOpacityForSunAlt(sunAltAz.altRad);\n  color.a = Math.round(255 * opacity);\n  WWTControl.scriptInterface.setForegroundOpacity((1 - opacity) * 100);\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [0, (i + 1) * delta],\n      [Math.PI / 2, i * delta] // In addition to using +pi/2 instead of -pi/2, I had to switch the order of the 2nd & 3rd points relative to the horizon set. I don't know why, but before I switched them, the polygons didn't render.\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport { Coordinates, Place, RenderContext, SpaceTimeController, Text3d, Text3dBatch, Vector3d } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\nfunction nameForObject(object: SolarSystemObjects): string {\n  // For creating a place based on a name, WWT requires that the name be capitalized\n  let name = SolarSystemObjects[object];\n  name = name.charAt(0).toUpperCase() + name.slice(1);\n  return name;\n}\n\nfunction placeForObject(object: SolarSystemObjects): Place {\n  const place = new Place();\n  const name = nameForObject(object);\n  place.set_names([name]);\n  place.set_classification(Classification.solarSystem);\n  place.set_target(object);\n  return place;\n}\n\nconst maxFOV = 90;\nconst minFOV = 0.1;\nconst maxFactor = 0.9;\nconst minFactor = 0.1;\nconst gMax = Math.log(maxFactor / (1 - maxFactor));\nconst gMin = Math.log(minFactor/ (1 - minFactor));\nconst b = (gMax - gMin) / (maxFOV - minFOV);\nconst a = gMax - b * maxFOV;\n\nconst planetTextOffsetsY = [\n  115,  // Sun\n  -60,  // Mercury\n  85,  // Venus\n  100,  // Mars\n  100,  // Jupiter\n  120,  // Saturn\n  90,  // Uranus\n  90,  // Neptune\n  100,  // Pluto\n  -70,  // Moon\n];\n\nconst planetTextOffsetsX = [\n  85,  // Sun\n  -275,  // Mercury\n  0,  // Venus\n  0,  // Mars\n  0,  // Jupiter\n  0,  // Saturn\n  0,  // Uranus\n  0,  // Neptune\n  0,  // Pluto\n  0,  // Moon\n];\n\nfunction textOverlayForSolarSystemObject(renderContext: RenderContext, object: SolarSystemObjects, text: string, glyphHeight: number): Text3d {\n  const zoom = renderContext.viewCamera.zoom;\n  const fov = zoom / 6;\n  const exp = Math.exp(a + b * fov);\n  const scale = 0.0002 * ((1.4 * exp / (1 + exp)) + 1);\n  const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n  const up = Vector3d.create(0, sign, 0);\n\n  const place = placeForObject(object);\n  const location = Coordinates.raDecTo3d(place.get_RA(), place.get_dec());\n  location.y -= planetTextOffsetsY[object] * scale ?? 0.035;\n  location.x -= planetTextOffsetsX[object] * scale ?? 0;\n  return new Text3d(location, up, text, glyphHeight, scale);\n}\n\nexport function makeTextOverlays(renderContext: RenderContext): Text3dBatch {\n  const glyphHeight = 75 * 0.5;\n  const batch = new Text3dBatch(glyphHeight);\n  const values = Object.keys(SolarSystemObjects).filter(key => !isNaN(Number(key)))\n  values.forEach(object => {\n    if (Number(object) <= SolarSystemObjects.moon) {\n      const name = nameForObject(object);\n      const text = textOverlayForSolarSystemObject(renderContext, object, name, glyphHeight);\n      batch.add(text);\n    }\n  });\n  return batch;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Annotation,\n  Color,\n  Colors,\n  Constellations,\n  Coordinates,\n  CT,\n  DT,\n  GlyphCache,\n  Grids,\n  Matrix3d,\n  Planets,\n  RenderContext,\n  RenderTriangle,\n  Settings,\n  SimpleLineList,\n  SpaceTimeController,\n  Text3d,\n  Text3dBatch,\n  Texture,\n  Tile,\n  TileCache,\n  TourPlayer,\n  URLHelpers,\n  Vector3d,\n  WebFile,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport { drawHorizon, drawSky } from \"./horizon_sky\";\nimport { makeTextOverlays } from \"./text\";\n\nexport function resetAltAzGridText() {\n  Grids._altAzTextBatch = null;\n}\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-sign, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[sign, alt,  0], \"W\"],\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n    useCustomGlyphs(Grids._altAzTextBatch);\n  }\n}\n\nconst GLYPH_CACHE = function(): GlyphCache {\n  const cache = new GlyphCache();\n  let root = window.location.origin + window.location.pathname;\n  if (root.endsWith(\"/\")) {\n    root= root.slice(0, root.length - 1);\n  }\n  const imageUrl = `${root}/glyphs2.png`;\n  const xmlUrl = `${root}/glyphs2.xml`;\n  cache._texture = Texture.fromUrl(imageUrl);\n  cache._webFile = new WebFile(xmlUrl);\n  cache._webFile.onStateChange = GlyphCache.prototype._glyphXmlReady.bind(cache);\n  cache._webFile.send();\n\n  return cache;\n}();\n\nexport function useCustomGlyphs(batch: Text3dBatch) {\n  batch._glyphCache = GLYPH_CACHE;\n  batch.prepareBatch();\n}\n\nexport function drawPlanets(renderContext: RenderContext, _opacity: number) {\n  if (Planets._planetTextures == null) {\n      Planets._loadPlanetTextures();\n    }\n    var elong = Planets._geocentricElongation(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    var raDif = Planets._planetLocations[9].RA - Planets._planetLocations[0].RA;\n    if (Planets._planetLocations[9].RA < Planets._planetLocations[0].RA) {\n      raDif += 24;\n    }\n    var phaseAngle = Planets._phaseAngle(elong, Planets._planetLocations[9].distance, Planets._planetLocations[0].distance);\n    // var limbAngle = Planets._positionAngle(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    if (raDif < 12) {\n      phaseAngle += 180;\n    }\n    var dista = (Math.abs(Planets._planetLocations[9].RA - Planets._planetLocations[0].RA) * 15) * Math.cos(Coordinates.degreesToRadians(Planets._planetLocations[0].dec));\n    var distb = Math.abs(Planets._planetLocations[9].dec - Planets._planetLocations[0].dec);\n    var sunMoonDist = Math.sqrt(dista * dista + distb * distb);\n    var eclipse = false;\n    var coronaOpacity = 0;\n    var moonEffect = (Planets._planetScales[9] / 2 - sunMoonDist);\n    // var darkLimb = Math.min(32, sunMoonDist * 32);\n\n    // For this story, we only want to draw the Sun\n    // which has planet ID 0\n    Planets._drawPlanet(renderContext, 0);\n    return true;\n}\n\nexport function renderOneFrame(showHorizon=true,\n                               showSky=true,\n                               showPlanetLabels=true) {\n  if (this.renderContext.get_backgroundImageset() != null) {\n    this.renderType = this.renderContext.get_backgroundImageset().get_dataSetType();\n  } else {\n    this.renderType = 2;\n  }\n\n  var sizeChange = false;\n  if (this.canvas.width !== this.canvas.parentNode.clientWidth) {\n    this.canvas.width = this.canvas.parentNode.clientWidth;\n    sizeChange = true;\n  }\n  if (this.canvas.height !== this.canvas.parentNode.clientHeight) {\n    this.canvas.height = this.canvas.parentNode.clientHeight;\n    sizeChange = true;\n  }\n  if (sizeChange && this.explorer != null) {\n    this.explorer.refresh();\n  }\n  if (this.canvas.width < 1 || this.canvas.height < 1) {\n    return;\n  }\n  if (sizeChange) {\n    this._crossHairs = null;\n  }\n  Tile.lastDeepestLevel = Tile.deepestLevel;\n  RenderTriangle.width = this.renderContext.width = this.canvas.width;\n  RenderTriangle.height = this.renderContext.height = this.canvas.height;\n  Tile.tilesInView = 0;\n  Tile.tilesTouched = 0;\n  Tile.deepestLevel = 0;\n  SpaceTimeController.set_metaNow(new Date());\n  if (this.get__mover() != null) {\n    SpaceTimeController.set_now(this.get__mover().get_currentDateTime());\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    if (this.get__mover() != null) {\n      const newCam = this.get__mover().get_currentPosition();\n      this.renderContext.targetCamera = newCam.copy();\n      this.renderContext.viewCamera = newCam.copy();\n      if (this.renderContext.space && Settings.get_active().get_galacticMode()) {\n        const gPoint = Coordinates.j2000toGalactic(newCam.get_RA() * 15, newCam.get_dec());\n        this.renderContext.targetAlt = this.renderContext.alt = gPoint[1];\n        this.renderContext.targetAz = this.renderContext.az = gPoint[0];\n      }\n      else if (this.renderContext.space && Settings.get_active().get_localHorizonMode()) {\n        const currentAltAz = Coordinates.equitorialToHorizon(Coordinates.fromRaDec(newCam.get_RA(), newCam.get_dec()), SpaceTimeController.get_location(), SpaceTimeController.get_now());\n        this.renderContext.targetAlt = this.renderContext.alt = currentAltAz.get_alt();\n        this.renderContext.targetAz = this.renderContext.az = currentAltAz.get_az();\n      }\n      if (this.get__mover().get_complete()) {\n        WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(), this.get__mover().get_currentPosition().get_dec(), WWTControl.singleton.renderContext.viewCamera.zoom);\n        this.set__mover(null);\n        this._notifyMoveComplete();\n      }\n    }\n  }\n  else {\n    SpaceTimeController.updateClock();\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    this._updateViewParameters();\n  }\n  this.renderContext.clear();\n\n  this.renderContext.setupMatricesSpace3d(this.renderContext.width, this.renderContext.height);\n  this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(), 100);\n  if (this.renderContext.get_foregroundImageset() != null) {\n    if (this.renderContext.get_foregroundImageset().get_dataSetType() !== this.renderContext.get_backgroundImageset().get_dataSetType()) {\n      this.renderContext.set_foregroundImageset(null);\n    }\n    else {\n      if (this.renderContext.viewCamera.opacity !== 100 && this.renderContext.gl == null) {\n        if (this._foregroundCanvas.width !== this.renderContext.width || this._foregroundCanvas.height !== this.renderContext.height) {\n          this._foregroundCanvas.width = this.renderContext.width;\n          this._foregroundCanvas.height = this.renderContext.height;\n        }\n        var saveDevice = this.renderContext.device;\n        this._fgDevice.clearRect(0, 0, this.renderContext.width, this.renderContext.height);\n        this.renderContext.device = this._fgDevice;\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), 100);\n        this.renderContext.device = saveDevice;\n        this.renderContext.device.save();\n        this.renderContext.device.globalAlpha = this.renderContext.viewCamera.opacity / 100;\n        this.renderContext.device.drawImage(this._foregroundCanvas, 0, 0);\n        this.renderContext.device.restore();\n      }\n      else {\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), this.renderContext.viewCamera.opacity);\n      }\n    }\n  }\n  if (this.uiController != null) {\n    this.uiController.render(this.renderContext);\n  }\n  else {\n    if (showSky) {\n      drawSky(this.renderContext, { opacity: 0.95, color: \"#4190ED\" });\n    }\n    Annotation.prepBatch(this.renderContext);\n    for (const item of this._annotations) {\n      item.draw(this.renderContext);\n    }\n    Annotation.drawBatch(this.renderContext);\n    if ((Date.now() - this._lastMouseMove) > 400) {\n      var raDecDown = this.getCoordinatesForScreenPoint(this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._annotationHover(raDecDown.x, raDecDown.y, this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._lastMouseMove = new Date(2100, 1, 1);\n    }\n    if (this._hoverText) {\n      this._drawHoverText(this.renderContext);\n    }\n  }\n\n  for (const imageset in this.renderContext.get_catalogHipsImagesets()) {\n    if (imageset.get_hipsProperties().get_catalogSpreadSheetLayer().enabled && imageset.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion === imageset.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()) {\n      this.renderContext.drawImageSet(imageset, 100);\n    }\n  }\n  this.constellation = Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(), this.renderContext.viewCamera.get_dec());\n  this._drawSkyOverlays();\n  Planets.drawPlanets(this.renderContext, 1);\n\n  if (showPlanetLabels) {\n    this._planetTextOverlays = makeTextOverlays(this.renderContext);\n    useCustomGlyphs(this._planetTextOverlays);\n    this._planetTextOverlays.viewTransform = Grids._altAzTextBatch?.viewTransform;\n    this._planetTextOverlays.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n\n  if (showHorizon) {\n    drawHorizon(this.renderContext, { opacity: 0.95, color: \"#01362C\" });\n  }\n\n  const worldSave = this.renderContext.get_world();\n  const viewSave = this.renderContext.get_view();\n  const projSave = this.renderContext.get_projection();\n  if (Settings.get_current().get_showCrosshairs()) {\n    this._drawCrosshairs(this.renderContext);\n  }\n\n  const tilesAllLoaded = !TileCache.get_queueCount();\n  this.renderContext.setupMatricesOverlays();\n  this._fadeFrame();\n  this._frameCount++;\n  TileCache.decimateQueue();\n  TileCache.processQueue(this.renderContext);\n  Tile.currentRenderGeneration++;\n  if (!TourPlayer.get_playing()) {\n    this.set_crossFadeFrame(false);\n  }\n  this.renderContext.set_world(worldSave);\n  this.renderContext.set_view(viewSave);\n  this.renderContext.set_projection(projSave);\n  const now = Date.now();\n  const ms = now - this._lastUpdate;\n  if (ms > 1000) {\n    this._lastUpdate = now;\n    this._frameCount = 0;\n    RenderTriangle.trianglesRendered = 0;\n    RenderTriangle.trianglesCulled = 0;\n  }\n  if (this.capturingVideo) {\n    if ((this.dumpFrameParams != null) && (!this.dumpFrameParams.waitDownload || tilesAllLoaded)) {\n      this.captureFrameForVideo(this._videoBlobReady, this.dumpFrameParams.width, this.dumpFrameParams.height, this.dumpFrameParams.format);\n      SpaceTimeController.nextFrame();\n    }\n    if (SpaceTimeController.get_doneDumping()) {\n      SpaceTimeController.frameDumping = false;\n      SpaceTimeController.cancelFrameDump = false;\n      this.capturingVideo = false;\n    }\n  }\n}\n\nexport function drawEcliptic(renderContext: RenderContext, opacity: number, drawColor: Color, drawCircle: boolean = true) {\n    var col = drawColor;\n    var year = SpaceTimeController.get_now().getUTCFullYear();\n    if (Grids._eclipticOverviewLineList == null || year !== Grids._eclipticYear) {\n        if (Grids._eclipticOverviewLineList != null) {\n            Grids._eclipticOverviewLineList.clear();\n            Grids._eclipticOverviewLineList = null;\n        }\n        Grids._eclipticYear = year;\n        var obliquity = Coordinates.meanObliquityOfEcliptic(SpaceTimeController.get_jNow());\n        var mat = Matrix3d._rotationX((-obliquity / 360 * (Math.PI * 2)));\n        var daysPerYear = 365.25;\n        if (DT.isLeap(year, true)) {\n            Grids._monthDays[1] = 29;\n            daysPerYear = 366;\n        } else {\n            Grids._monthDays[1] = 28;\n            daysPerYear = 365;\n        }\n        var count = 2 * daysPerYear;\n        Grids._eclipticCount = daysPerYear;\n        var jYear = SpaceTimeController.utcToJulian(new Date(year, 0, 1, 12, 0, 0));\n        var index = 0;\n        var d = 0;\n        var dPrev = 0;\n        var dStart = 0;\n        Grids._eclipticOverviewLineList = new SimpleLineList();\n        Grids._eclipticOverviewLineList.set_depthBuffered(false);\n        for (var m = 0; m < 12; m++) {\n            var daysThisMonth = Grids._monthDays[m];\n            for (var i = 0; i < daysThisMonth; i++) {\n                var sunRaDec = Planets.getPlanetLocationJD('Sun', jYear);\n                var sunEcliptic = CT.eq2Ec(sunRaDec.RA, sunRaDec.dec, obliquity);\n                d = sunEcliptic.x;\n                if (i == 0 && m == 0) {\n                  dStart = d;\n                }\n                var width = 0.005;\n                if (!i) {\n                    width = 0.01;\n                }\n                var dd = d;\n                Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), width, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), -width, Math.sin((dd * Math.PI * 2) / 360)), mat));\n                if (drawCircle && !(i == 0 && m == 0)) {\n                  Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dPrev * Math.PI * 2) / 360), 0, Math.sin((dPrev * Math.PI * 2) / 360)), mat));\n                }\n                index++;\n                jYear += 1;\n                dPrev = d;\n            }\n            d += Grids._monthDays[m];\n        }\n        if (drawCircle) {\n          Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dStart * Math.PI * 2) / 360), 0, Math.sin((dStart * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat));\n        }\n    }\n    Grids._eclipticOverviewLineList.drawLines(renderContext, opacity, drawColor);\n    return true;\n};\n\nexport function drawSkyOverlays() {\n    if (Settings.get_active().get_showConstellationPictures() && !this.freestandingMode) {\n        Constellations.drawArtwork(this.renderContext);\n    }\n    if (Settings.get_active().get_showConstellationFigures()) {\n        if (WWTControl.constellationsFigures == null) {\n            WWTControl.constellationsFigures = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('figures.txt'),\n                false,  // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsFigures.draw(this.renderContext, false, 'UMA', false);\n    }\n    if (Settings.get_active().get_showEclipticGrid()) {\n        Grids.drawEclipticGrid(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        if (Settings.get_active().get_showEclipticGridText()) {\n            Grids.drawEclipticGridText(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showGalacticGrid()) {\n        Grids.drawGalacticGrid(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        if (Settings.get_active().get_showGalacticGridText()) {\n            Grids.drawGalacticGridText(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showAltAzGrid()) {\n        Grids.drawAltAzGrid(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showAltAzGridText()) {\n        Grids.drawAltAzGridText(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showPrecessionChart()) {\n        Grids.drawPrecessionChart(this.renderContext, 1, Settings.get_active().get_precessionChartColor());\n    }\n    if (Settings.get_active().get_showEcliptic()) {\n        Grids.drawEcliptic(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        if (Settings.get_active().get_showEclipticOverviewText()) {\n            Grids.drawEclipticText(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        }\n    }\n    if (Settings.get_active().get_showGrid()) {\n        Grids.drawEquitorialGrid(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        if (Settings.get_active().get_showEquatorialGridText()) {\n            Grids.drawEquitorialGridText(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        }\n    }\n    if (Settings.get_active().get_showConstellationBoundries()) {\n        if (WWTControl.constellationsBoundries == null) {\n            WWTControl.constellationsBoundries = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('constellations.txt'),\n                true,   // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsBoundries.draw(this.renderContext, Settings.get_active().get_showConstellationSelection(), this.constellation, false);\n    }\n    if (Settings.get_active().get_showConstellationLabels()) {\n        Constellations.drawConstellationNames(this.renderContext, 1, Colors.get_yellow());\n    }\n}\n","import { Ref, ref, computed } from \"vue\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { Place} from \"@wwtelescope/engine\";\nimport { AltAzRad, EquatorialRad, LocationDeg, LocationRad } from \"../types\";\nimport { AstroCalc } from \"@wwtelescope/engine\";\nimport { equatorialToHorizontal, getJulian } from \"../utils\";\nimport { D2R } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\n\n\nconst SECONDS_PER_DAY = 60 * 60 * 24;\nconst MILLISECONDS_PER_DAY = 1000 * SECONDS_PER_DAY;\n\nconst secondsInterval = 40;\nconst MILLISECONDS_PER_INTERVAL = 1000 * secondsInterval;\n\ntype RefOrType<T> = Ref<T> | T;\n\nexport interface UseSunOptions {\n  store: WWTEngineStore;\n  location: Ref<LocationDeg>;\n  selectedTime: RefOrType<number>;\n  selectedTimezoneOffset: RefOrType<number>;\n  zoomLevel?: number;\n  onStart?: () => void;\n}\n\nexport function useSun(options: UseSunOptions) {\n  \n  options.store.waitForReady().then(async () => {\n    if (options.onStart) {\n      options.onStart();\n    }\n  });\n  \n  const selectedTime = ref(options.selectedTime);\n  const selectedTimezoneOffset = ref(options.selectedTimezoneOffset);\n  \n  const locationRad = computed<LocationRad>(() => {\n    return {\n      latitudeRad: options.location.value.latitudeDeg * D2R,\n      longitudeRad: options.location.value.longitudeDeg * D2R,\n    };\n  });\n\n  const sunPlace = new Place();\n  sunPlace.set_names([\"Sun\"]);\n  sunPlace.set_classification(Classification.solarSystem);\n  sunPlace.set_target(SolarSystemObjects.sun);\n  sunPlace.set_zoomLevel(options.zoomLevel ?? 20);\n  \n  const sunPosition = computed<EquatorialRad>(() =>{\n    return {\n      raRad: sunPlace.get_RA() * 15 * D2R,\n      decRad: sunPlace.get_dec() * D2R,\n    } as EquatorialRad;\n  });\n\n  function getSunPositionAtTime(time: Date): AltAzRad {\n    const jd = getJulian(time);\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const currentRaDec = AstroCalc.getPlanet(jd, 0, locationRad.value.latitudeRad, locationRad.value.longitudeRad, 0);\n    const sunAltAz = equatorialToHorizontal(currentRaDec.RA * 15 * D2R, currentRaDec.dec * D2R, locationRad.value.latitudeRad, locationRad.value.longitudeRad, time);\n    return sunAltAz;\n  }\n\n  // function that finds at what time the sun will reach a given altitude during the current day to within 15 minutes\n  function getTimeforSunAlt(altDeg: number, referenceTime?: number): { rising: number | null; setting: number | null; } {\n    // takes about 45ms to run\n    // search for time when sun is at given altitude\n    // start at 12:00am and search every MINUTES_PER_INTERVAL\n    // const minTime = selectedTime.value - (selectedTime.value % MILLISECONDS_PER_DAY) - selectedTimezoneOffset.value + 0.5 * MILLISECONDS_PER_DAY;\n    // const maxTime = minTime + 0.5 * MILLISECONDS_PER_DAY;\n    \n    const refTime = referenceTime ?? selectedTime.value;\n    const minTime = refTime - (refTime % MILLISECONDS_PER_DAY) - selectedTimezoneOffset.value; \n    const maxTime = minTime + 1 * MILLISECONDS_PER_DAY;\n    // const ehr = eclipticHorizonAngle(location.latitudeRad, dateTime);\n    let time = minTime;\n    let sunAlt = getSunPositionAtTime(new Date(time)).altRad; // negative\n    // find the two times it crosses the given altitude\n    while ((sunAlt < altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const rising = time == maxTime ? null : time;\n    while ((sunAlt > altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const setting = time == maxTime ? null : time;\n\n    return {\n      'rising': (rising !== null && setting !== null) ? Math.min(rising, setting) : rising,\n      'setting': (rising !== null && setting !== null) ? Math.max(rising, setting) : setting\n    };\n  }\n  \n  \n  return { getTimeforSunAlt, getSunPositionAtTime, sunPlace, sunPosition };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, withCtx as _withCtx, vShow as _vShow, Transition as _Transition, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, unref as _unref, createBlock as _createBlock, createCommentVNode as _createCommentVNode, mergeProps as _mergeProps } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  id: \"splash-screen-acknowledgements\",\n  class: \"small\"\n}\nconst _hoisted_3 = { id: \"splash-screen-logos\" }\nconst _hoisted_4 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_5 = { id: \"top-content\" }\nconst _hoisted_6 = { id: \"left-buttons\" }\nconst _hoisted_7 = { id: \"center-buttons\" }\nconst _hoisted_8 = { id: \"geolocation-close\" }\nconst _hoisted_9 = { id: \"geolocation-controls\" }\nconst _hoisted_10 = { id: \"right-buttons\" }\nconst _hoisted_11 = [\"onClick\"]\nconst _hoisted_12 = { id: \"bottom-content\" }\nconst _hoisted_13 = { id: \"date-picker\" }\nconst _hoisted_14 = {\n  key: 0,\n  id: \"body-logos\"\n}\nconst _hoisted_15 = { class: \"video-wrapper\" }\n\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { useDisplay } from \"vuetify\";\n\nimport { AstroTime, Seasons } from \"astronomy-engine\";\n\nimport { Color, Grids, Planets, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport {\n  BackgroundImageset,\n  LocationDeg,\n  skyBackgroundImagesets,\n  supportsTouchscreen,\n  blurActiveElement,\n  useWWTKeyboardControls,\n  D2R,\n} from \"@cosmicds/vue-toolkit\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial } from \"./utils\";\nimport { makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { useSun } from \"./composables/useSun\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface SeasonsStoryProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst sliderMin = 0;\nconst sliderMax = 500;\ntype EventOfInterest = typeof EVENTS_OF_INTEREST[number];\n\nconst MAX_ZOOM = 500;\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SeasonsStory',\n  setup(__props) {\n\nconst store = engineStore();\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, xs } = useDisplay();\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#90D5FF\");\nconst buttonColor = ref(\"#ffffff\");\nconst tab = ref(0);\n\nconst datePickerOpen = ref(false);\nconst playing = ref(false);\nconst showLocationSelector = ref(false);\n\nconst showHorizon = ref(true);\n\n// Get the next 4 \"dates of interest\"\n// i.e. equinoxes and solstices\nconst currentDate = new Date();\nconst currentYear = currentDate.getUTCFullYear();\nconst datesOfInterest = Seasons(currentYear);\nconst datesBeforeNow = Object.entries(datesOfInterest).filter(([_key, value]: [string, AstroTime]) => value.date < currentDate).map(entry => entry[0]);\nif (datesBeforeNow.length > 0) {\n  const nextSeasonsInfo = Seasons(currentYear + 1);\n  datesBeforeNow.forEach(key => {\n    datesOfInterest[key] = nextSeasonsInfo[key];\n  });\n}\n\nconst startTime = ref(0);\nconst endTime = ref(0);\nconst sliderRange = sliderMax - sliderMin;\nconst sliderValue = computed({\n  get() {\n    const fraction = (selectedTime.value - startTime.value) / (endTime.value - startTime.value);\n    return sliderMin + fraction * sliderRange;\n  },\n  set(value: number) {\n    const fraction = (value - sliderMin) / sliderRange;\n    const time = fraction * (endTime.value - startTime.value) + startTime.value;\n    selectedTime.value = time;\n  }\n});\n\nconst sortedDatesOfInterest = computed(() => {\n  const entries: ([EventOfInterest, AstroTime])[] = Object.entries(datesOfInterest) as [EventOfInterest, AstroTime][];\n  return entries.sort((a, b) => a[1].date.getTime() - b[1].date.getTime());\n});\n\nconst EVENTS_OF_INTEREST = [\n  \"mar_equinox\",\n  \"jun_solstice\",\n  \"sep_equinox\",\n  \"dec_solstice\",\n] as const;\nconst selectedEvent = ref<EventOfInterest>(EVENTS_OF_INTEREST[0]);\n\nfunction eventName(event: EventOfInterest): string {\n  switch (event) {\n  case \"mar_equinox\":\n    return \"March Equinox\";\n  case \"jun_solstice\":\n    return \"June Solstice\";\n  case \"sep_equinox\":\n    return \"September Equinox\";\n  case \"dec_solstice\":\n    return \"December Solstice\";\n  }\n}\n\nfunction dayString(date: Date) {\n  return date.toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n}\n\nfunction goToEvent(event: EventOfInterest) {\n  const day = datesOfInterest[event].date;\n  const time = day.getTime();\n\n  const { rising: dayStart, setting: dayEnd } = getTimeforSunAlt(0, time);\n\n  if (dayStart === null || dayEnd === null) {\n    return;\n  }\n\n  const start = new Date(dayStart);\n  store.setTime(new Date(time));\n  const timeStart = start.getTime();\n  selectedTime.value = timeStart;\n  startTime.value = timeStart; // - timeStart % (24 * 60 * 60 * 1000) - selectedTimezoneOffset.value; // round down to the start of the day\n\n  const end = new Date(dayEnd);\n  endTime.value = end.getTime();\n\n  setTimeout(() => resetView(), 100);\n}\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nconst searchErrorMessage = ref<string | null>(null);\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nupdateSelectedLocationText();\n\n\n\nlet userSelectedMapLocations: [number, number][] = [];\nlet userSelectedSearchLocations: [number, number][] = [];\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n}\n\nconst selectedTime = ref(Date.now());\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun({\n  store,\n  location: selectedLocation,\n  selectedTime,\n  selectedTimezoneOffset,\n  zoomLevel: 360,\n});\n\n// import { getTimezoneOffset } from \"date-fns-tz\";\n// const testTime = ref(new Date('Sep 22 2025 00:00:00 GMT-0400').getTime());\n// const testSun = useSun({\n//   store,\n//   location: selectedLocation,\n//   selectedTime: testTime,\n//   selectedTimezoneOffset: getTimezoneOffset(\"America/New_York\", testTime.value),\n//   zoomLevel: 360,\n// });\n// console.log(\"Testing sun values\");\n// const { rising: testRising, setting: testSetting } = testSun.getTimeforSunAlt(0);\n// if (testRising !== null && testSetting !== null) {\n//   console.log(`Test Sun Rising: ${new Date(testRising)}`);\n//   console.log(`Test Sun Setting: ${new Date(testSetting)}`);\n// }\n\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    WWTControl.singleton.set_zoomMax(MAX_ZOOM);\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    updateWWTLocation(selectedLocation.value);\n\n    store.setClockSync(false);\n    store.setClockRate(0);\n\n    // Adding Alt-Az grid here\n    store.applySetting([\"showAltAzGrid\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(255, 255, 255, 255)]);\n    store.applySetting([\"localHorizonMode\", true]);\n\n    doWWTModifications();\n\n    selectedEvent.value = sortedDatesOfInterest.value[0][0];\n\n    // If there are layers to set up, do that here!\n    positionSet.value = true;\n    layersLoaded.value = true;\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\nconst mobile = computed(() => smallSize.value && touchscreen);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction resetView(zoomDeg?: number) {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = (smallSize.value ? 20 : 25) * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: zoomDeg ?? MAX_ZOOM,\n    instant: true,\n  });\n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction doWWTModifications() {\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      false,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  // updateSelectedLocationText();\n  updateWWTLocation(location);\n  // resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedTime, (time: number) => {\n  store.setTime(new Date(time)); \n  resetView(store.zoomDeg);\n});\n\nwatch(selectedEvent, goToEvent);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_geolocation_button = _resolveComponent(\"geolocation-button\")!\n  const _component_location_search = _resolveComponent(\"location-search\")!\n  const _component_location_selector = _resolveComponent(\"location-selector\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_time_display = _resolveComponent(\"time-display\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_date_time_picker = _resolveComponent(\"date-time-picker\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n  const _component_speed_control = _resolveComponent(\"speed-control\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n  const _directive_ripple = _resolveDirective(\"ripple\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope),\n        _createVNode(_component_v_overlay, {\n          \"model-value\": showSplashScreen.value,\n          absolute: \"\",\n          opacity: \"0.6\",\n          style: _normalizeStyle(cssVars.value),\n          id: \"splash-overlay\"\n        }, {\n          default: _withCtx(() => [\n            _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n              id: \"splash-screen\",\n              style: _normalizeStyle(cssVars.value)\n            }, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"close-splash-button\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                icon: \"xmark\",\n                tabindex: \"0\"\n              }),\n              _cache[35] || (_cache[35] = _createElementVNode(\"div\", { id: \"splash-screen-text\" }, [\n                _createElementVNode(\"p\", null, \"Splash Screen Content\")\n              ], -1)),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _cache[30] || (_cache[30] = _createTextVNode(\" This Data Story is brought to you by \", -1)),\n                _cache[31] || (_cache[31] = _createElementVNode(\"a\", {\n                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"Cosmic Data Stories\", -1)),\n                _cache[32] || (_cache[32] = _createTextVNode(\" and \", -1)),\n                _cache[33] || (_cache[33] = _createElementVNode(\"a\", {\n                  href: \"https://www.worldwidetelescope.org/home/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"WorldWide Telescope\", -1)),\n                _cache[34] || (_cache[34] = _createTextVNode(\". \", -1)),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createVNode(_component_credit_logos, { \"logo-size\": \"5vmin\" })\n                ])\n              ])\n            ], 4)), [\n              [_directive_click_outside, closeSplashScreen]\n            ])\n          ]),\n          _: 1\n        }, 8, [\"model-value\", \"style\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_4, [...(_cache[36] || (_cache[36] = [\n              _createElementVNode(\"div\", { class: \"container\" }, [\n                _createElementVNode(\"div\", { class: \"spinner\" }),\n                _createElementVNode(\"p\", null, \"Loading …\")\n              ], -1)\n            ]))], 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_icon_button, {\n              modelValue: showTextSheet.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((showTextSheet).value = $event)),\n              \"fa-icon\": \"book-open\",\n              color: buttonColor.value,\n              \"tooltip-text\": showTextSheet.value ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: showVideoSheet.value,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((showVideoSheet).value = $event)),\n              \"fa-icon\": \"video\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createVNode(_component_icon_button, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"fa-icon\": \"location-dot\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Select Location\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"max-width\": \"fit-content\",\n              transition: \"slide-y-transition\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_8, [\n                      _createVNode(_component_font_awesome_icon, {\n                        style: {\"cursor\":\"pointer\",\"z-index\":\"1000\"},\n                        icon: \"xmark\",\n                        size: \"xl\",\n                        onClick: _cache[3] || (_cache[3] = ($event: any) => (showLocationSelector.value = false)),\n                        onKeyup: _cache[4] || (_cache[4] = _withKeys(($event: any) => (showLocationSelector.value = false), [\"enter\"])),\n                        tabindex: \"0\",\n                        color: \"black\"\n                      })\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_9, [\n                      _createVNode(_component_geolocation_button, {\n                        id: \"location\",\n                        size: \"30px\",\n                        density: \"default\",\n                        elevation: \"5\",\n                        color: accentColor.value,\n                        onGeolocation: _cache[5] || (_cache[5] = ($event: any) => (selectedLocation.value = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}))\n                      }, null, 8, [\"color\"]),\n                      _createVNode(_component_location_search, {\n                        class: _normalizeClass(['location-search']),\n                        small: \"\",\n                        \"button-size\": \"xl\",\n                        \"accent-color\": accentColor.value,\n                        \"search-provider\": searchProvider,\n                        onSetLocation: setLocationFromSearchFeature,\n                        onError: _cache[6] || (_cache[6] = ($event: any) => (searchErrorMessage.value = $event))\n                      }, null, 8, [\"accent-color\"])\n                    ]),\n                    _createVNode(_component_location_selector, {\n                      \"model-value\": selectedLocation.value,\n                      \"onUpdate:modelValue\": updateLocationFromMap\n                    }, null, 8, [\"model-value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"]),\n            _createVNode(_component_icon_button, {\n              onActivate: _cache[8] || (_cache[8] = () => resetView()),\n              \"fa-icon\": \"sun\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Reset view\",\n              \"tooltip-location\": \"end\"\n            }, null, 8, [\"color\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sortedDatesOfInterest.value, ([event, value], index) => {\n              return _withDirectives((_openBlock(), _createElementBlock(\"button\", {\n                class: _normalizeClass([[event === selectedEvent.value ? 'selected' : ''], \"event-button\"]),\n                key: index,\n                onClick: ($event: any) => (selectedEvent.value = event)\n              }, [\n                _createElementVNode(\"div\", null, _toDisplayString(eventName(event)), 1),\n                _createElementVNode(\"div\", null, _toDisplayString(dayString(value.date)), 1)\n              ], 10, _hoisted_11)), [\n                [_directive_ripple]\n              ])\n            }), 128))\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createVNode(_component_v_overlay, {\n              modelValue: datePickerOpen.value,\n              \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((datePickerOpen).value = $event)),\n              activator: \"parent\",\n              \"location-strategy\": \"connected\",\n              location: \"top end\",\n              origin: \"bottom end\",\n              scrim: false,\n              style: _normalizeStyle(cssVars.value)\n            }, {\n              activator: _withCtx(({props}) => [\n                _createVNode(_component_v_card, _mergeProps(props, {\n                  class: \"td__card\",\n                  width: \"fit-content\",\n                  rounded: \"lg\",\n                  tabindex: \"0\",\n                  onKeyup: _withKeys(props.onClick, [\"enter\"])\n                }), {\n                  default: _withCtx(() => [\n                    _createVNode(_component_time_display, {\n                      class: \"bsn__time\",\n                      date: localSelectedDate.value,\n                      ampm: \"\",\n                      \"short-time-date\": true,\n                      \"show-timezone\": \"\",\n                      timezone: _unref(shortTimezone)\n                    }, null, 8, [\"date\", \"timezone\"]),\n                    (!(_unref(smAndDown) || mobile.value))\n                      ? (_openBlock(), _createBlock(_component_v_icon, {\n                          key: 0,\n                          class: \"td__icon\"\n                        }, {\n                          default: _withCtx(() => [...(_cache[37] || (_cache[37] = [\n                            _createTextVNode(\"mdi-cursor-default-click\", -1)\n                          ]))]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }, 16, [\"onKeyup\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, {\n                  ref: \"dtpCard\",\n                  tabindex: \"0\",\n                  width: \"fit-content\",\n                  elevation: \"5\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_icon, {\n                      tabindex: \"0\",\n                      class: \"dtp-close-button\",\n                      onClick: _cache[9] || (_cache[9] = ($event: any) => (datePickerOpen.value=false)),\n                      onKeyup: _cache[10] || (_cache[10] = _withKeys(($event: any) => (datePickerOpen.value=false), [\"enter\"])),\n                      color: accentColor.value,\n                      size: \"18\"\n                    }, {\n                      default: _withCtx(() => [...(_cache[38] || (_cache[38] = [\n                        _createTextVNode(\"mdi-close\", -1)\n                      ]))]),\n                      _: 1\n                    }, 8, [\"color\"]),\n                    _createVNode(_component_date_time_picker, {\n                      tabindex: \"0\",\n                      modelValue: localSelectedDate.value,\n                      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((localSelectedDate).value = $event)),\n                      \"editable-time\": true\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[11] || (_cache[11] = () => {selectedTime.value = Date.now()}),\n                          name: \"set-now\",\n                          \"aria-label\": \"Set time to Now\"\n                        }, \"Now\")\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }, 512)\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"style\"])\n          ]),\n          _createVNode(_component_v_slider, {\n            modelValue: sliderValue.value,\n            \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event: any) => ((sliderValue).value = $event)),\n            color: accentColor.value,\n            min: sliderMin,\n            max: sliderMax\n          }, null, 8, [\"modelValue\", \"color\"]),\n          _createVNode(_component_speed_control, {\n            playing: playing.value,\n            \"onUpdate:playing\": [\n              _cache[15] || (_cache[15] = ($event: any) => ((playing).value = $event)),\n              _cache[18] || (_cache[18] = (_playing) => {\n          _unref(wwtStats).playPauseCount += 1;\n        })\n            ],\n            store: _unref(store),\n            color: accentColor.value,\n            defaultRate: 1000,\n            useInline: _unref(xs),\n            maxSpeed: 10000,\n            \"show-text\": \"\",\n            onReset: _cache[16] || (_cache[16] = () => {\n          selectedTime.value = Date.now();\n          _unref(wwtStats).timeResetCount += 1;\n        }),\n            \"onUpdate:reverse\": _cache[17] || (_cache[17] = (_reverse) => {\n          _unref(wwtStats).reverseCount += 1;\n        }),\n            onSlowDown: _cache[19] || (_cache[19] = (rate) => {\n          _unref(wwtStats).slowdowns.push(rate);\n        }),\n            onSpeedUp: _cache[20] || (_cache[20] = (rate) => {\n          _unref(wwtStats).speedups.push(rate);\n        }),\n            onSetRate: _cache[21] || (_cache[21] = (rate) => {\n          _unref(wwtStats).rateSelections.push(rate);\n        })\n          }, null, 8, [\"playing\", \"store\", \"color\", \"useInline\"]),\n          _cache[39] || (_cache[39] = _createElementVNode(\"div\", { id: \"change-flags\" }, null, -1)),\n          (!smallSize.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                _createVNode(_component_credit_logos)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[24] || (_cache[24] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_15, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[22] || (_cache[22] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[23] || (_cache[23] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[40] || (_cache[40] = _createElementVNode(\"video\", {\n                controls: \"\",\n                id: \"info-video\"\n              }, [\n                _createElementVNode(\"source\", {\n                  src: \"\",\n                  type: \"video/mp4\"\n                })\n              ], -1))\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(cssVars.value),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[29] || (_cache[29] = ($event: any) => ((showTextSheet).value = $event)),\n          transition: \"dialog-bottom-transition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[25] || (_cache[25] = ($event: any) => ((tab).value = $event)),\n                  height: \"32px\",\n                  color: accentColor.value,\n                  \"slider-color\": accentColor.value,\n                  id: \"tabs\",\n                  dense: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => [...(_cache[41] || (_cache[41] = [\n                        _createElementVNode(\"h3\", null, \"Information\", -1)\n                      ]))]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => [...(_cache[42] || (_cache[42] = [\n                        _createElementVNode(\"h3\", null, \"Using WWT\", -1)\n                      ]))]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[26] || (_cache[26] = ($event: any) => (showTextSheet.value = false)),\n                  onKeyup: _cache[27] || (_cache[27] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[28] || (_cache[28] = ($event: any) => ((tab).value = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _cache[43] || (_cache[43] = _createTextVNode(\" Information goes here \", -1)),\n                                _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [...(_cache[44] || (_cache[44] = [\n                                                _createTextVNode(\" Pan \", -1)\n                                              ]))]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[45] || (_cache[45] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [...(_cache[46] || (_cache[46] = [\n                                                _createTextVNode(\" Zoom \", -1)\n                                              ]))]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[47] || (_cache[47] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[48] || (_cache[48] = _createElementVNode(\"div\", { class: \"credits\" }, [\n                                              _createElementVNode(\"h3\", null, \"Credits:\"),\n                                              _createElementVNode(\"h4\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"CosmicDS\"),\n                                                _createTextVNode(\" Vue Data Stories Team:\")\n                                              ]),\n                                              _createTextVNode(\" John Lewis\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Pat Udomprasert\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Alyssa Goodman\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Mary Dussault\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Harry Houghton\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Anna Nolin\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Evaluator: Sue Sunbury\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n                                              _createTextVNode(\" Peter Williams\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" A. David Weigel\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\")\n                                            ], -1)),\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, null, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_funding_acknowledgement)\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\"])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n  <div\n    id=\"main-content\"\n  >\n    <WorldWideTelescope></WorldWideTelescope>\n      \n\n    <!-- This contains the splash screen content -->\n\n    <v-overlay\n      :model-value=\"showSplashScreen\"\n      absolute\n      opacity=\"0.6\"\n      :style=\"cssVars\"\n      id=\"splash-overlay\"\n    >\n      <div\n        id=\"splash-screen\"\n        v-click-outside=\"closeSplashScreen\"\n        :style=\"cssVars\"\n      >\n        <font-awesome-icon\n          id=\"close-splash-button\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          icon=\"xmark\"\n          tabindex=\"0\"\n        />\n        <div id=\"splash-screen-text\">\n          <p>Splash Screen Content</p>\n        </div>\n        <div id=\"splash-screen-acknowledgements\" class=\"small\">\n          This Data Story is brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n          \n          <div id=\"splash-screen-logos\">\n            <credit-logos logo-size=\"5vmin\"/>\n          </div>\n        </div>\n      </div>\n    </v-overlay>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading …</p>\n        </div>\n      </div>\n    </transition>\n\n\n    <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n    <div id=\"top-content\">\n      <div id=\"left-buttons\">\n        <icon-button\n          v-model=\"showTextSheet\"\n          fa-icon=\"book-open\"\n          :color=\"buttonColor\"\n          :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n        <icon-button\n          v-model=\"showVideoSheet\"\n          fa-icon=\"video\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Watch video\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n      </div>\n      <div id=\"center-buttons\">\n        <icon-button\n          v-model=\"showLocationSelector\"\n          fa-icon=\"location-dot\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Select Location\"\n          tooltip-location=\"start\"\n        ></icon-button>\n        <v-dialog\n          v-model=\"showLocationSelector\"\n          max-width=\"fit-content\"\n          transition=\"slide-y-transition\"\n        >\n          <v-card>\n            <div id=\"geolocation-close\">\n              <font-awesome-icon\n                style=\"cursor: pointer; z-index: 1000;\"\n                icon=\"xmark\"\n                size=\"xl\"\n                @click=\"showLocationSelector = false\"\n                @keyup.enter=\"showLocationSelector = false\"\n                tabindex=\"0\"\n                color=\"black\"\n              ></font-awesome-icon>\n            </div>\n            <div id=\"geolocation-controls\">\n              <geolocation-button\n                id=\"location\"\n                size=\"30px\"\n                density=\"default\"\n                elevation=\"5\"\n                :color=\"accentColor\"\n                @geolocation=\"selectedLocation = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}\"\n              />\n              <location-search\n                :class=\"['location-search']\"\n                small\n                button-size=\"xl\"\n                :accent-color=\"accentColor\"\n                :search-provider=\"searchProvider\"\n                @set-location=\"setLocationFromSearchFeature\"\n                @error=\"searchErrorMessage = $event\"\n              >\n              </location-search>\n            </div>\n            <location-selector\n              :model-value=\"selectedLocation\"\n              @update:modelValue=\"updateLocationFromMap\"\n            />\n\n          </v-card>\n        </v-dialog>\n        <icon-button\n          @activate=\"() => resetView()\"\n          fa-icon=\"sun\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Reset view\"\n          tooltip-location=\"end\"\n        ></icon-button>\n      </div>\n      <div id=\"right-buttons\">\n        <button\n          :class=\"[event === selectedEvent ? 'selected' : '']\"\n          v-for=\"([event, value], index) in sortedDatesOfInterest\"\n          v-ripple\n          class=\"event-button\"\n          :key=\"index\"\n          @click=\"selectedEvent = event\"\n        >\n          <div>{{ eventName(event) }}</div>\n          <div>{{ dayString(value.date) }}</div>\n        </button>\n      </div>\n    </div>\n    \n    <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n\n    <div id=\"bottom-content\">\n      <div id=\"date-picker\">\n        <v-overlay \n          v-model=\"datePickerOpen\"\n          activator=\"parent\"\n          location-strategy=\"connected\"\n          location=\"top end\"\n          origin=\"bottom end\"\n          :scrim=\"false\"\n          :style=\"cssVars\"\n        >\n        <template #activator=\"{props}\">\n          <!-- any props added are passed directly to v-card -->\n          <v-card \n            v-bind=\"props\"\n            class=\"td__card\"\n            width=\"fit-content\"\n            rounded=\"lg\"\n            tabindex=\"0\"\n            @keyup.enter=\"props.onClick\"\n            >\n            <time-display class=\"bsn__time\" :date=\"localSelectedDate\" ampm :short-time-date=\"true\" show-timezone :timezone=\"shortTimezone\" />\n            <v-icon v-if=\"!(smAndDown || mobile)\" class=\"td__icon\"  >mdi-cursor-default-click</v-icon>\n          </v-card>\n        </template>\n          <v-card ref=\"dtpCard\" tabindex=\"0\" width=\"fit-content\" elevation=\"5\">\n            <v-icon tabindex=\"0\" class=\"dtp-close-button\" @click=\"datePickerOpen=false\" @keyup.enter=\"datePickerOpen=false\" :color=\"accentColor\" size=\"18\">mdi-close</v-icon>\n            <date-time-picker tabindex=\"0\" v-model=\"localSelectedDate\" :editable-time=\"true\">\n              <!-- <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); set9pm(); goToTCrB()}\" name=\"set-9pm\" aria-label=\"Set time to 9pm\">9pm</button>\n              <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); setMidnight(); goToTCrB()}\" name=\"set-midnight\" aria-label=\"Set time to Midnight\">Midnight</button>-->\n              <button class=\"dtp__button\" @click=\"() => {selectedTime = Date.now()}\" name=\"set-now\" aria-label=\"Set time to Now\">Now</button> \n            </date-time-picker>\n          </v-card>\n        </v-overlay>\n      </div>\n\n      <v-slider\n        v-model=\"sliderValue\"\n        :color=\"accentColor\"\n        :min=\"sliderMin\"\n        :max=\"sliderMax\"\n      >\n      </v-slider>\n      \n      <!-- eslint-disable-next-line vue/no-v-model-argument -->\n      <speed-control v-model:playing=\"playing\" \n        :store=\"store\"\n        :color=\"accentColor\" \n        :defaultRate=\"1000\"\n        :useInline=\"xs\"\n        :maxSpeed=\"10000\"\n        show-text\n        @reset=\"() => {\n          selectedTime = Date.now();\n          wwtStats.timeResetCount += 1;\n        }\"\n        @update:reverse=\"(_reverse: boolean) => {\n          wwtStats.reverseCount += 1;\n        }\"\n        @update:playing=\"(_playing: boolean) => {\n          wwtStats.playPauseCount += 1;\n        }\"\n        @slow-down=\"(rate: number) => {\n          wwtStats.slowdowns.push(rate);\n        }\"\n        @speed-up=\"(rate: number) => {\n          wwtStats.speedups.push(rate);\n        }\"\n        @set-rate=\"(rate: number) => {\n          wwtStats.rateSelections.push(rate);\n        }\"\n        />\n      <div id=\"change-flags\">\n      <!--\n        <icon-button\n          md-icon=\"mdi-information-outline\"\n          @activate=\"() => inIntro = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Show Quick Start Guide\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n        <icon-button\n          md-icon=\"mdi-lock\"\n          @activate=\"() => showPrivacyDialog = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Change privacy settings\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n      -->\n      </div>\n      <div id=\"body-logos\" v-if=\"!smallSize\">\n        <credit-logos/>\n      </div>\n    </div>\n\n\n    <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <video\n          controls\n          id=\"info-video\"\n        >\n          <source src=\"\" type=\"video/mp4\">\n        </video>\n      </div>\n    </v-dialog>\n\n\n    <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n\n    <v-dialog\n      :style=\"cssVars\"\n      class=\"bottom-sheet\"\n      id=\"text-bottom-sheet\"\n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      width=\"100%\"\n      :scrim=\"false\"\n      location=\"bottom\"\n      v-model=\"showTextSheet\"\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card height=\"100%\">\n        <v-tabs\n          v-model=\"tab\"\n          height=\"32px\"\n          :color=\"accentColor\"\n          :slider-color=\"accentColor\"\n          id=\"tabs\"\n          dense\n        >\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Information</h3></v-tab>\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Using WWT</h3></v-tab>\n        </v-tabs>\n        <font-awesome-icon\n          id=\"close-text-icon\"\n          class=\"control-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showTextSheet = false\"\n          @keyup.enter=\"showTextSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                Information goes here\n                <v-spacer class=\"end-spacer\"></v-spacer>\n              </v-card-text>\n            </v-card>\n         </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container>\n                  <v-row align=\"center\">\n                  <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \":\" : \"or\" }}  <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\" : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h3>Credits:</h3>\n                      <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Vue Data Stories Team:</h4>\n                      John Lewis<br>\n                      Jon Carifio<br>\n                      Pat Udomprasert<br>\n                      Alyssa Goodman<br>\n                      Mary Dussault<br>\n                      Harry Houghton<br>\n                      Anna Nolin<br>\n                      Evaluator: Sue Sunbury<br>\n                      <br>\n                      <h4>WorldWide Telescope Team:</h4>\n                      Peter Williams<br>\n                      A. David Weigel<br>\n                      Jon Carifio<br>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col>\n                      <funding-acknowledgement/>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n\n  </div>\n</v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { useDisplay } from \"vuetify\";\n\nimport { AstroTime, Seasons } from \"astronomy-engine\";\n\nimport { Color, Grids, Planets, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport {\n  BackgroundImageset,\n  LocationDeg,\n  skyBackgroundImagesets,\n  supportsTouchscreen,\n  blurActiveElement,\n  useWWTKeyboardControls,\n  D2R,\n} from \"@cosmicds/vue-toolkit\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial } from \"./utils\";\nimport { makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { useSun } from \"./composables/useSun\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface SeasonsStoryProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst store = engineStore();\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, xs } = useDisplay();\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#90D5FF\");\nconst buttonColor = ref(\"#ffffff\");\nconst tab = ref(0);\n\nconst datePickerOpen = ref(false);\nconst playing = ref(false);\nconst showLocationSelector = ref(false);\n\nconst showHorizon = ref(true);\n\n// Get the next 4 \"dates of interest\"\n// i.e. equinoxes and solstices\nconst currentDate = new Date();\nconst currentYear = currentDate.getUTCFullYear();\nconst datesOfInterest = Seasons(currentYear);\nconst datesBeforeNow = Object.entries(datesOfInterest).filter(([_key, value]: [string, AstroTime]) => value.date < currentDate).map(entry => entry[0]);\nif (datesBeforeNow.length > 0) {\n  const nextSeasonsInfo = Seasons(currentYear + 1);\n  datesBeforeNow.forEach(key => {\n    datesOfInterest[key] = nextSeasonsInfo[key];\n  });\n}\n\nconst startTime = ref(0);\nconst endTime = ref(0);\nconst sliderMin = 0;\nconst sliderMax = 500;\nconst sliderRange = sliderMax - sliderMin;\nconst sliderValue = computed({\n  get() {\n    const fraction = (selectedTime.value - startTime.value) / (endTime.value - startTime.value);\n    return sliderMin + fraction * sliderRange;\n  },\n  set(value: number) {\n    const fraction = (value - sliderMin) / sliderRange;\n    const time = fraction * (endTime.value - startTime.value) + startTime.value;\n    selectedTime.value = time;\n  }\n});\n\nconst sortedDatesOfInterest = computed(() => {\n  const entries: ([EventOfInterest, AstroTime])[] = Object.entries(datesOfInterest) as [EventOfInterest, AstroTime][];\n  return entries.sort((a, b) => a[1].date.getTime() - b[1].date.getTime());\n});\n\nconst EVENTS_OF_INTEREST = [\n  \"mar_equinox\",\n  \"jun_solstice\",\n  \"sep_equinox\",\n  \"dec_solstice\",\n] as const;\ntype EventOfInterest = typeof EVENTS_OF_INTEREST[number];\n\nconst selectedEvent = ref<EventOfInterest>(EVENTS_OF_INTEREST[0]);\n\nfunction eventName(event: EventOfInterest): string {\n  switch (event) {\n  case \"mar_equinox\":\n    return \"March Equinox\";\n  case \"jun_solstice\":\n    return \"June Solstice\";\n  case \"sep_equinox\":\n    return \"September Equinox\";\n  case \"dec_solstice\":\n    return \"December Solstice\";\n  }\n}\n\nfunction dayString(date: Date) {\n  return date.toLocaleString(\"en-US\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n  });\n}\n\nfunction goToEvent(event: EventOfInterest) {\n  const day = datesOfInterest[event].date;\n  const time = day.getTime();\n\n  const { rising: dayStart, setting: dayEnd } = getTimeforSunAlt(0, time);\n\n  if (dayStart === null || dayEnd === null) {\n    return;\n  }\n\n  const start = new Date(dayStart);\n  store.setTime(new Date(time));\n  const timeStart = start.getTime();\n  selectedTime.value = timeStart;\n  startTime.value = timeStart; // - timeStart % (24 * 60 * 60 * 1000) - selectedTimezoneOffset.value; // round down to the start of the day\n\n  const end = new Date(dayEnd);\n  endTime.value = end.getTime();\n\n  setTimeout(() => resetView(), 100);\n}\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nconst searchErrorMessage = ref<string | null>(null);\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nupdateSelectedLocationText();\n\n\n\nlet userSelectedMapLocations: [number, number][] = [];\nlet userSelectedSearchLocations: [number, number][] = [];\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n}\n\nconst selectedTime = ref(Date.now());\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun({\n  store,\n  location: selectedLocation,\n  selectedTime,\n  selectedTimezoneOffset,\n  zoomLevel: 360,\n});\n\n// import { getTimezoneOffset } from \"date-fns-tz\";\n// const testTime = ref(new Date('Sep 22 2025 00:00:00 GMT-0400').getTime());\n// const testSun = useSun({\n//   store,\n//   location: selectedLocation,\n//   selectedTime: testTime,\n//   selectedTimezoneOffset: getTimezoneOffset(\"America/New_York\", testTime.value),\n//   zoomLevel: 360,\n// });\n// console.log(\"Testing sun values\");\n// const { rising: testRising, setting: testSetting } = testSun.getTimeforSunAlt(0);\n// if (testRising !== null && testSetting !== null) {\n//   console.log(`Test Sun Rising: ${new Date(testRising)}`);\n//   console.log(`Test Sun Setting: ${new Date(testSetting)}`);\n// }\n\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\nconst MAX_ZOOM = 500;\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    WWTControl.singleton.set_zoomMax(MAX_ZOOM);\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    updateWWTLocation(selectedLocation.value);\n\n    store.setClockSync(false);\n    store.setClockRate(0);\n\n    // Adding Alt-Az grid here\n    store.applySetting([\"showAltAzGrid\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(255, 255, 255, 255)]);\n    store.applySetting([\"localHorizonMode\", true]);\n\n    doWWTModifications();\n\n    selectedEvent.value = sortedDatesOfInterest.value[0][0];\n\n    // If there are layers to set up, do that here!\n    positionSet.value = true;\n    layersLoaded.value = true;\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\nconst mobile = computed(() => smallSize.value && touchscreen);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction resetView(zoomDeg?: number) {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = (smallSize.value ? 20 : 25) * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: zoomDeg ?? MAX_ZOOM,\n    instant: true,\n  });\n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction doWWTModifications() {\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      false,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  // updateSelectedLocationText();\n  updateWWTLocation(location);\n  // resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedTime, (time: number) => {\n  store.setTime(new Date(time)); \n  resetView(store.zoomDeg);\n});\n\nwatch(selectedEvent, goToEvent);\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n:root {\n  --default-font-size: clamp(0.7rem, min(1.7vh, 1.7vw), 1.1rem);\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  \n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n#top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n#center-buttons {\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n}\n\n#right-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: flex-end;\n  height: auto;\n}\n\n#bottom-content {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n}\n\n#splash-overlay {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n#splash-screen {\n  color: #FFFFFF;\n  background-color: #000000;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  align-content: center;\n  justify-content: space-around;\n\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n  font-size: min(8vw, 7vh);\n\n  border-radius: 10%;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  padding-top: 4rem;\n  padding-bottom: 1rem;\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(70vw, 800px);\n  }\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n\n  .small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 0.5rem;\n    right: 1.75rem;\n    text-align: end;\n    color: var(--accent-color);\n    font-size: min(8vw, 5vh);\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible,\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.video-wrapper {\n  height: 100%;\n  background: black;\n  text-align: center;\n  z-index: 1000;\n\n  #video-close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n    \n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n}\n\nvideo {\n  height: 100%;\n  width: auto;\n  max-width: 100%;\n  object-fit: contain;\n}\n\n#info-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 10;\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n  \n  .info-text {\n    height: 33vh;\n    padding-bottom: 25px;\n  \n    & a {\n      text-decoration: none;\n    }\n  }\n  \n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n  \n    &:hover {\n      cursor: pointer;\n    }\n  \n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n  \n  .scrollable {\n    overflow-y: auto;\n  }\n  \n  #tab-items {\n    // padding-bottom: 2px !important;\n  \n    .v-card-text {\n      font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n      padding-top: ~\"max(2vw, 16px)\";\n      padding-left: ~\"max(4vw, 16px)\";\n      padding-right: ~\"max(4vw, 16px)\";\n  \n      .end-spacer {\n        height: 25px;\n      }\n    }\n  \n  }\n  \n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n}\n\n#date-picker {\n  pointer-events: auto;\n}\n\n.event-button {\n  background: black;\n  border: 1px solid white;\n  border-radius: 5px;\n  padding: 10px;\n  width: 100%;\n  pointer-events: auto;\n\n  &.selected {\n    color: var(--accent-color);\n    border-color: var(--accent-color);\n  }\n}\n\n.map-container {\n  @media (max-width: 600px) {\n    width: 90vw;\n    height: 70vh;\n  }\n\n@media (min-width: 601px) {\n    width: 70vw;\n    height: 60vh;\n  }\n}\n\n.v-slider {\n  width: 90%;\n  pointer-events: auto;\n}\n</style>\n","import script from \"./SeasonsStory.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SeasonsStory.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SeasonsStory.vue?vue&type=style&index=0&id=15c39316&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport {\n  FundingAcknowledgement,\n  IconButton,\n  LocationSearch,\n  LocationSelector,\n  GeolocationButton,\n  CreditLogos,\n  SpeedControl,\n  DateTimePicker\n} from \"@cosmicds/vue-toolkit\";\nimport SeasonsStory from \"./SeasonsStory.vue\";\n\nimport vuetify from \"../plugins/vuetify\";\nimport { VIcon } from \"vuetify/components/VIcon\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faLocationDot,\n  faSun,\n  faTimes,\n  faVideo,\n  faXmark,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faLocationDot);\nlibrary.add(faSun);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faXmark);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(SeasonsStory, {\n  wwtNamespace: \"seasons-story\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('speed-control', SpeedControl)\n  .component('geolocation-button', GeolocationButton)\n  .component('location-search', LocationSearch)\n  .component('location-selector', LocationSelector)\n  .component('date-time-picker', DateTimePicker)\n  .component('v-icon', VIcon)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_seasons_story\"] = self[\"webpackChunk_cosmicds_seasons_story\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(2999)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["useTimezone","selectedLocation","selectedTimezone","value","latitudeDeg","longitudeDeg","selectedTimezoneOffset","shortTimezone","Date","browserTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","browserTimezoneOffset","getTimezoneOffset","console","log","altAzToHADec","altRad","azRad","latRad","Math","PI","ra","atan2","sin","cos","tan","dec","asin","getJulian","utc","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","getUTCMilliseconds","a","floor","b","c","d","jd","mstFromUTC2","longRad","lng","R2D","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","raRad","D2R","decRad","equatorialToHorizontal","hourAngle","lat","sinAlt","altitude","cosAz","azimuth","acos","skyOpacityForSunAlt","sunAltRad","civilTwilight","astronomicalTwilight","min","max","atan","sunPlace","Place","set_names","set_classification","solarSystem","set_target","sun","set_zoomLevel","drawHorizon","renderContext","options","n","delta","triangleList","color","Color","load","round","opacity","settings","Settings","get_active","longitudeRad","get_locationLng","latitudeRad","get_locationLat","now","SpaceTimeController","get_now","i","points","map","point","raDecRad","Coordinates","raDecTo3d","addSubdividedTriangles","draw","drawSky","sunAltAz","get_RA","get_dec","WWTControl","scriptInterface","setForegroundOpacity","nameForObject","object","name","charAt","toUpperCase","slice","placeForObject","place","maxFOV","minFOV","maxFactor","minFactor","gMax","gMin","planetTextOffsetsY","planetTextOffsetsX","textOverlayForSolarSystemObject","text","glyphHeight","zoom","viewCamera","fov","exp","scale","sign","get_location","get_lat","up","Vector3d","create","location","y","x","Text3d","makeTextOverlays","batch","Text3dBatch","values","Object","keys","filter","key","isNaN","Number","forEach","moon","add","makeAltAzGridText","Grids","_altAzTextBatch","alt","directions","v","useCustomGlyphs","GLYPH_CACHE","cache","GlyphCache","root","window","origin","pathname","endsWith","length","imageUrl","xmlUrl","_texture","Texture","fromUrl","_webFile","WebFile","onStateChange","prototype","_glyphXmlReady","bind","send","_glyphCache","prepareBatch","drawPlanets","_opacity","Planets","_planetTextures","_loadPlanetTextures","elong","_geocentricElongation","_planetLocations","RA","raDif","_phaseAngle","distance","dista","abs","degreesToRadians","distb","sunMoonDist","sqrt","_planetScales","_drawPlanet","renderOneFrame","showHorizon","showSky","showPlanetLabels","this","get_backgroundImageset","renderType","get_dataSetType","sizeChange","canvas","width","parentNode","clientWidth","height","clientHeight","explorer","refresh","_crossHairs","Tile","lastDeepestLevel","deepestLevel","RenderTriangle","tilesInView","tilesTouched","set_metaNow","get__mover","set_now","get_currentDateTime","updatePlanetLocations","get_solarSystemMode","newCam","get_currentPosition","targetCamera","copy","space","get_galacticMode","gPoint","j2000toGalactic","targetAlt","targetAz","az","get_localHorizonMode","currentAltAz","equitorialToHorizon","fromRaDec","get_alt","get_az","get_complete","_fireArrived","singleton","set__mover","_notifyMoveComplete","updateClock","_updateViewParameters","clear","setupMatricesSpace3d","drawImageSet","get_foregroundImageset","set_foregroundImageset","gl","_foregroundCanvas","saveDevice","device","_fgDevice","clearRect","save","globalAlpha","drawImage","restore","uiController","render","Annotation","prepBatch","_annotations","item","drawBatch","_lastMouseMove","raDecDown","getCoordinatesForScreenPoint","_hoverTextPoint","_annotationHover","_hoverText","_drawHoverText","imageset","get_catalogHipsImagesets","get_hipsProperties","get_catalogSpreadSheetLayer","enabled","lastVersion","get_version","constellation","Constellations","containment","findConstellationForPoint","_drawSkyOverlays","_planetTextOverlays","viewTransform","fromArgb","worldSave","get_world","viewSave","get_view","projSave","get_projection","get_current","get_showCrosshairs","_drawCrosshairs","tilesAllLoaded","TileCache","get_queueCount","setupMatricesOverlays","_fadeFrame","_frameCount","decimateQueue","processQueue","currentRenderGeneration","TourPlayer","get_playing","set_crossFadeFrame","set_world","set_view","set_projection","ms","_lastUpdate","trianglesRendered","trianglesCulled","capturingVideo","dumpFrameParams","waitDownload","captureFrameForVideo","_videoBlobReady","format","nextFrame","get_doneDumping","frameDumping","cancelFrameDump","drawEcliptic","drawColor","drawCircle","_eclipticOverviewLineList","_eclipticYear","obliquity","meanObliquityOfEcliptic","get_jNow","mat","Matrix3d","_rotationX","daysPerYear","DT","isLeap","_monthDays","_eclipticCount","jYear","utcToJulian","dPrev","dStart","SimpleLineList","set_depthBuffered","m","daysThisMonth","sunRaDec","getPlanetLocationJD","sunEcliptic","CT","eq2Ec","dd","addLine","_transformCoordinate","drawLines","drawSkyOverlays","get_showConstellationPictures","freestandingMode","drawArtwork","get_showConstellationFigures","constellationsFigures","URLHelpers","engineAssetUrl","get_showEclipticGrid","drawEclipticGrid","get_eclipticGridColor","get_showEclipticGridText","drawEclipticGridText","get_showGalacticGrid","drawGalacticGrid","get_galacticGridColor","get_showGalacticGridText","drawGalacticGridText","get_showAltAzGrid","drawAltAzGrid","get_altAzGridColor","get_showAltAzGridText","drawAltAzGridText","get_showPrecessionChart","drawPrecessionChart","get_precessionChartColor","get_showEcliptic","get_eclipticColor","get_showEclipticOverviewText","drawEclipticText","get_showGrid","drawEquitorialGrid","get_equatorialGridColor","get_showEquatorialGridText","drawEquitorialGridText","get_showConstellationBoundries","constellationsBoundries","get_showConstellationSelection","get_showConstellationLabels","drawConstellationNames","Colors","get_yellow","SECONDS_PER_DAY","MILLISECONDS_PER_DAY","secondsInterval","MILLISECONDS_PER_INTERVAL","useSun","store","waitForReady","then","onStart","selectedTime","locationRad","zoomLevel","sunPosition","getSunPositionAtTime","time","currentRaDec","AstroCalc","getPlanet","getTimeforSunAlt","altDeg","referenceTime","refTime","minTime","maxTime","sunAlt","rising","setting","_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","sliderMin","sliderMax","MAX_ZOOM","__name","setup","__props","engineStore","wwtSettings","useWWTKeyboardControls","touchscreen","supportsTouchscreen","smAndDown","xs","splash","URLSearchParams","search","get","toLowerCase","showSplashScreen","backgroundImagesets","sheet","layersLoaded","positionSet","accentColor","buttonColor","tab","datePickerOpen","playing","showLocationSelector","currentDate","currentYear","datesOfInterest","datesBeforeNow","entries","date","entry","startTime","endTime","sliderRange","sliderValue","fraction","set","sortedDatesOfInterest","sort","getTime","EVENTS_OF_INTEREST","selectedEvent","eventName","event","dayString","toLocaleString","goToEvent","dayStart","dayEnd","start","setTime","timeStart","end","setTimeout","resetView","wwtStats","timeResetCount","reverseCount","playPauseCount","speedups","slowdowns","rateSelections","selectedLocationText","searchErrorMessage","geocodingOptions","access_token","updateSelectedLocationText","userSelectedMapLocations","userSelectedSearchLocations","updateLocationFromMap","push","getTextForLocation","setLocationFromFeature","feature","center","catch","_err","setLocationFromSearchFeature","searchProvider","localSelectedDate","fakeUTC","newTime","set_zoomMax","skyBackgroundImagesets","iset","updateWWTLocation","setClockSync","setClockRate","applySetting","doWWTModifications","ready","isLoading","smallSize","mobile","cssVars","showTextSheet","_value","selectSheet","showVideoSheet","video","document","querySelector","pause","closeSplashScreen","sheetType","blurActiveElement","zoomDeg","currentTime","lonRad","sunAz","startAlt","startRADec","gotoRADecZoom","instant","set_locationLat","set_locationLng","_makeAltAzGridText","boundRenderOneFrame","newFrameRender","originalUpdatePlanetLocations","planetScales","newUpdatePlanetLocations","threeD","_ctx","_cache","_component_WorldWideTelescope","_component_font_awesome_icon","_component_credit_logos","_component_icon_button","_component_geolocation_button","_component_location_search","_component_location_selector","_component_time_display","_component_date_time_picker","_component_speed_control","_component_funding_acknowledgement","style","default","absolute","icon","tabindex","href","target","rel","_","modelValue","$event","transition","size","density","elevation","longitude","latitude","small","index","activator","scrim","props","rounded","onClick","ampm","timezone","ref","_playing","defaultRate","useInline","maxSpeed","_reverse","rate","fullscreen","controls","src","type","persistent","dense","align","cols","label","outlined","__exports__","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","update","el","binding","visibility","SeasonsStory","wwtNamespace","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","IconButton","FundingAcknowledgement","CreditLogos","SpeedControl","GeolocationButton","LocationSearch","LocationSelector","DateTimePicker","VIcon","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}